(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Em={exports:{}},Ul={};var Xv;function n1(){if(Xv)return Ul;Xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Jv;function i1(){return Jv||(Jv=1,Em.exports=n1()),Em.exports}var S=i1(),Tm={exports:{}},we={};var Wv;function r1(){if(Wv)return we;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function P(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,q={};function te(k,ee,ae){this.props=k,this.context=ee,this.refs=q,this.updater=ae||K}te.prototype.isReactComponent={},te.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},te.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function J(){}J.prototype=te.prototype;function ie(k,ee,ae){this.props=k,this.context=ee,this.refs=q,this.updater=ae||K}var ge=ie.prototype=new J;ge.constructor=ie,Y(ge,te.prototype),ge.isPureReactComponent=!0;var _e=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(k,ee,ae){var ce=ae.ref;return{$$typeof:r,type:k,key:ee,ref:ce!==void 0?ce:null,props:ae}}function M(k,ee){return C(k.type,ee,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function L(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return ee[ae]})}var x=/\/+/g;function rt(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):ee.toString(36)}function Dt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(oe,oe):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $(k,ee,ae,ce,Te){var Ie=typeof k;(Ie==="undefined"||Ie==="boolean")&&(k=null);var Le=!1;if(k===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(k.$$typeof){case r:case e:Le=!0;break;case E:return Le=k._init,$(Le(k._payload),ee,ae,ce,Te)}}if(Le)return Te=Te(k),Le=ce===""?"."+rt(k,0):ce,_e(Te)?(ae="",Le!=null&&(ae=Le.replace(x,"$&/")+"/"),$(Te,ee,ae,"",function(_s){return _s})):Te!=null&&(O(Te)&&(Te=M(Te,ae+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+Le)),ee.push(Te)),1;Le=0;var Ot=ce===""?".":ce+":";if(_e(k))for(var st=0;st<k.length;st++)ce=k[st],Ie=Ot+rt(ce,st),Le+=$(ce,ee,ae,Ie,Te);else if(st=P(k),typeof st=="function")for(k=st.call(k),st=0;!(ce=k.next()).done;)ce=ce.value,Ie=Ot+rt(ce,st++),Le+=$(ce,ee,ae,Ie,Te);else if(Ie==="object"){if(typeof k.then=="function")return $(Dt(k),ee,ae,ce,Te);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(k,ee,ae){if(k==null)return k;var ce=[],Te=0;return $(k,ce,"","",function(Ie){return ee.call(ae,Ie,Te++)}),ce}function pe(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var je=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ge={map:se,forEach:function(k,ee,ae){se(k,function(){ee.apply(this,arguments)},ae)},count:function(k){var ee=0;return se(k,function(){ee++}),ee},toArray:function(k){return se(k,function(ee){return ee})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=T,we.Children=Ge,we.Component=te,we.Fragment=n,we.Profiler=o,we.PureComponent=ie,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,ee,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=Y({},k.props),Te=k.key;if(ee!=null)for(Ie in ee.key!==void 0&&(Te=""+ee.key),ee)!R.call(ee,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ee.ref===void 0||(ce[Ie]=ee[Ie]);var Ie=arguments.length-2;if(Ie===1)ce.children=ae;else if(1<Ie){for(var Le=Array(Ie),Ot=0;Ot<Ie;Ot++)Le[Ot]=arguments[Ot+2];ce.children=Le}return C(k.type,Te,ce)},we.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},we.createElement=function(k,ee,ae){var ce,Te={},Ie=null;if(ee!=null)for(ce in ee.key!==void 0&&(Ie=""+ee.key),ee)R.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=ee[ce]);var Le=arguments.length-2;if(Le===1)Te.children=ae;else if(1<Le){for(var Ot=Array(Le),st=0;st<Le;st++)Ot[st]=arguments[st+2];Te.children=Ot}if(k&&k.defaultProps)for(ce in Le=k.defaultProps,Le)Te[ce]===void 0&&(Te[ce]=Le[ce]);return C(k,Ie,Te)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:m,render:k}},we.isValidElement=O,we.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:pe}},we.memo=function(k,ee){return{$$typeof:g,type:k,compare:ee===void 0?null:ee}},we.startTransition=function(k){var ee=I.T,ae={};I.T=ae;try{var ce=k(),Te=I.S;Te!==null&&Te(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,je)}catch(Ie){je(Ie)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),I.T=ee}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(k){return I.H.use(k)},we.useActionState=function(k,ee,ae){return I.H.useActionState(k,ee,ae)},we.useCallback=function(k,ee){return I.H.useCallback(k,ee)},we.useContext=function(k){return I.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,ee){return I.H.useDeferredValue(k,ee)},we.useEffect=function(k,ee){return I.H.useEffect(k,ee)},we.useEffectEvent=function(k){return I.H.useEffectEvent(k)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(k,ee,ae){return I.H.useImperativeHandle(k,ee,ae)},we.useInsertionEffect=function(k,ee){return I.H.useInsertionEffect(k,ee)},we.useLayoutEffect=function(k,ee){return I.H.useLayoutEffect(k,ee)},we.useMemo=function(k,ee){return I.H.useMemo(k,ee)},we.useOptimistic=function(k,ee){return I.H.useOptimistic(k,ee)},we.useReducer=function(k,ee,ae){return I.H.useReducer(k,ee,ae)},we.useRef=function(k){return I.H.useRef(k)},we.useState=function(k){return I.H.useState(k)},we.useSyncExternalStore=function(k,ee,ae){return I.H.useSyncExternalStore(k,ee,ae)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.3",we}var Zv;function vp(){return Zv||(Zv=1,Tm.exports=r1()),Tm.exports}var U=vp(),bm={exports:{}},jl={},wm={exports:{}},Sm={};var e0;function s1(){return e0||(e0=1,(function(r){function e($,se){var pe=$.length;$.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ge=$[je];if(0<o(Ge,se))$[je]=se,$[pe]=Ge,pe=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var se=$[0],pe=$.pop();if(pe!==se){$[0]=pe;e:for(var je=0,Ge=$.length,k=Ge>>>1;je<k;){var ee=2*(je+1)-1,ae=$[ee],ce=ee+1,Te=$[ce];if(0>o(ae,pe))ce<Ge&&0>o(Te,ae)?($[je]=Te,$[ce]=pe,je=ce):($[je]=ae,$[ee]=pe,je=ee);else if(ce<Ge&&0>o(Te,pe))$[je]=Te,$[ce]=pe,je=ce;else break e}}return se}function o($,se){var pe=$.sortIndex-se.sortIndex;return pe!==0?pe:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,P=!1,K=!1,Y=!1,q=!1,te=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ge($){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=$)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function _e($){if(Y=!1,ge($),!K)if(n(p)!==null)K=!0,oe||(oe=!0,L());else{var se=n(g);se!==null&&Dt(_e,se.startTime-$)}}var oe=!1,I=-1,R=5,C=-1;function M(){return q?!0:!(r.unstable_now()-C<R)}function O(){if(q=!1,oe){var $=r.unstable_now();C=$;var se=!0;try{e:{K=!1,Y&&(Y=!1,J(I),I=-1),P=!0;var pe=A;try{t:{for(ge($),T=n(p);T!==null&&!(T.expirationTime>$&&M());){var je=T.callback;if(typeof je=="function"){T.callback=null,A=T.priorityLevel;var Ge=je(T.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,ge($),se=!0;break t}T===n(p)&&s(p),ge($)}else s(p);T=n(p)}if(T!==null)se=!0;else{var k=n(g);k!==null&&Dt(_e,k.startTime-$),se=!1}}break e}finally{T=null,A=pe,P=!1}se=void 0}}finally{se?L():oe=!1}}}var L;if(typeof ie=="function")L=function(){ie(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,rt=x.port2;x.port1.onmessage=O,L=function(){rt.postMessage(null)}}else L=function(){te(O,0)};function Dt($,se){I=te(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return $()}finally{A=pe}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=A;A=$;try{return se()}finally{A=pe}},r.unstable_scheduleCallback=function($,se,pe){var je=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,$={id:E++,callback:se,priorityLevel:$,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>je?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(Y?(J(I),I=-1):Y=!0,Dt(_e,pe-je))):($.sortIndex=Ge,e(p,$),K||P||(K=!0,oe||(oe=!0,L()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var se=A;return function(){var pe=A;A=se;try{return $.apply(this,arguments)}finally{A=pe}}}})(Sm)),Sm}var t0;function a1(){return t0||(t0=1,wm.exports=s1()),wm.exports}var Am={exports:{}},Xt={};var n0;function o1(){if(n0)return Xt;n0=1;var r=vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var i0;function l1(){if(i0)return Am.exports;i0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=o1(),Am.exports}var r0;function u1(){if(r0)return jl;r0=1;var r=a1(),e=vp(),n=l1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case te:return"Profiler";case q:return"StrictMode";case _e:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ie:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function k(t){return{current:t}}function ee(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,i){Ge++,je[Ge]=t.current,t.current=i}var ce=k(null),Te=k(null),Ie=k(null),Le=k(null);function Ot(t,i){switch(ae(Ie,i),ae(Te,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?vv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=vv(i),t=Ev(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ce),ae(ce,t)}function st(){ee(ce),ee(Te),ee(Ie)}function _s(t){t.memoizedState!==null&&ae(Le,t);var i=ce.current,a=Ev(i,t.type);i!==a&&(ae(Te,t),ae(ce,a))}function ma(t){Te.current===t&&(ee(ce),ee(Te)),Le.current===t&&(ee(Le),Ml._currentValue=pe)}var pa,ga;function hi(t){if(pa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pa=i&&i[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ga}var Mo=!1;function vs(t,i){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var H=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){H=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){H=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),B=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===B.length)for(l=N.length-1,f=B.length-1;1<=l&&0<=f&&N[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==B[f]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return hi("Activity");default:return""}}function Po(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,bf=r.unstable_shouldYield,Iu=r.unstable_requestPaint,tn=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Lo=r.unstable_ImmediatePriority,Uo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,wf=r.unstable_LowPriority,Cu=r.unstable_IdlePriority,xu=r.log,Nu=r.unstable_setDisableYieldValue,Fn=null,zt=null;function In(t){if(typeof xu=="function"&&Nu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Fn,t)}catch{}}var ft=Math.clz32?Math.clz32:Ou,Du=Math.log,ya=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(Du(t)/ya|0)|0}var fi=256,Ts=262144,Et=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=di(l):(_&=b,_!==0?f=di(_):a||(a=b&~t,a!==0&&(f=di(a))))):(b=l&~d,b!==0?f=di(b):_!==0?f=di(_):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Gn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Sf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Af(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ft(a),W=1<<Q;b[Q]=0,N[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&ws(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function zo(t,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|i))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Hv(t.type))}function Kn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qn,Pt="__reactProps$"+Qn,gi="__reactContainer$"+Qn,_a="__reactEvents$"+Qn,Rf="__reactListeners$"+Qn,Vu="__reactHandles$"+Qn,Pu="__reactResources$"+Qn,yi="__reactMarker$"+Qn;function va(t){delete t[Tt],delete t[Pt],delete t[_a],delete t[Rf],delete t[Vu]}function _i(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Iv(t);t!==null;){if(a=t[Tt])return a;t=Iv(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[Tt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[Pu];return i||(i=t[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[yi]=!0}var Bo=new Set,qo={};function Ei(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(qo[t]=i,t=0;t<i.length;t++)Bo.add(i[t])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Lu(t){return vt.call(Go,t)?!0:vt.call(Fo,t)?!1:Ho.test(t)?Go[t]=!0:(Fo[t]=!0,!1)}function Ea(t,i,a){if(Lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function As(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function an(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,_,Lt(i)):a!=null?Qo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Lt(b):t.removeAttribute("name")}function Uu(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Qo(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ju(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||zu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function $o(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Yo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(t,d,i[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Xo=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,wi=null;function Is(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Pt]||null;if(!f)throw Error(s(90));Ta(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&As(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var Sa=!1;function Sr(t,i,a){if(Sa)return t(i,a);Sa=!0;try{var l=t(i);return l}finally{if(Sa=!1,(wr!==null||wi!==null)&&(Mc(),wr&&(i=wr,t=wi,wi=wr=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Nn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Cs=!1}var Si=null,Jo=null,xs=null;function Wo(){if(xs)return xs;var t,i=Jo,a=i.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return xs=f.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Xn(){return!1}function Bt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Xn,this.isPropagationStopped=Xn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Bt(Fi),Ar=T({},Fi,{view:0,detail:0}),Zo=Bt(Ar),Rr,Aa,Ri,Ra=T({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Rr=t.screenX-Ri.screenX,Aa=t.screenY-Ri.screenY):Aa=Rr=0,Ri=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),el=Bt(Ra),Ds=T({},Ra,{dataTransfer:0}),qu=Bt(Ds),Hu=T({},Ar,{relatedTarget:0}),Os=Bt(Hu),tl=T({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Bt(tl),Ia=T({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gu=Bt(Ia),Ku=T({},Fi,{data:0}),Ii=Bt(Ku),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function Ir(){return Xu}var nn=T({},Ar,{key:function(t){if(t.key){var i=Qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Bt(nn),Wu=T({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Bt(Wu),c=T({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),y=Bt(c),v=T({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Bt(v),j=T({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(j),re=T({},Fi,{newState:0,oldState:0}),Ae=Bt(re),dt=[9,13,27,32],qe=Nn&&"CompositionEvent"in window,at=null;Nn&&"documentMode"in document&&(at=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!at,Ci=Nn&&(!qe||at&&8<at&&11>=at),Jn=" ",Wn=!1;function ks(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function RS(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(Wn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Wn?null:t;default:return null}}function IS(t,i){if(xa)return t==="compositionend"||!qe&&ks(t,i)?(t=Wo(),xs=Jo=Si=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!CS[t.type]:i==="textarea"}function Dg(t,i,a,l){wr?wi?wi.push(l):wi=[l]:wr=l,i=Bc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var nl=null,il=null;function xS(t){dv(t,0)}function Zu(t){var i=pn(t);if(As(i))return t}function Og(t,i){if(t==="change")return i}var kg=!1;if(Nn){var If;if(Nn){var Cf="oninput"in document;if(!Cf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Cf=typeof Mg.oninput=="function"}If=Cf}else If=!1;kg=If&&(!document.documentMode||9<document.documentMode)}function Vg(){nl&&(nl.detachEvent("onpropertychange",Pg),il=nl=null)}function Pg(t){if(t.propertyName==="value"&&Zu(il)){var i=[];Dg(i,il,t,xn(t)),Sr(xS,i)}}function NS(t,i,a){t==="focusin"?(Vg(),nl=i,il=a,nl.attachEvent("onpropertychange",Pg)):t==="focusout"&&Vg()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(il)}function OS(t,i){if(t==="click")return Zu(i)}function kS(t,i){if(t==="input"||t==="change")return Zu(i)}function MS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:MS;function rl(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(i,f)||!yn(t[f],i[f]))return!1}return!0}function Lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,i){var a=Lg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function jg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?jg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var VS=Nn&&"documentMode"in document&&11>=document.documentMode,Na=null,Nf=null,sl=null,Df=!1;function Bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||Na==null||Na!==bi(l)||(l=Na,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&rl(sl,l)||(sl=l,l=Bc(Nf,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Na)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Of={},qg={};Nn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Vs(t){if(Of[t])return Of[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in qg)return Of[t]=i[a];return t}var Hg=Vs("animationend"),Fg=Vs("animationiteration"),Gg=Vs("animationstart"),PS=Vs("transitionrun"),LS=Vs("transitionstart"),US=Vs("transitioncancel"),Kg=Vs("transitionend"),Qg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function Zn(t,i){Qg.set(t,i),Ei(i,[t])}var ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Oa=0,Mf=0;function tc(){for(var t=Oa,i=Mf=Oa=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Yg(a,f,d)}}function nc(t,i,a,l){On[Oa++]=t,On[Oa++]=i,On[Oa++]=a,On[Oa++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,i,a,l){return nc(t,i,a,l),ic(t)}function Ps(t,i){return nc(t,null,null,i),ic(t)}function Yg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-ft(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function ic(t){if(50<Il)throw Il=0,Fd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ka={};function jS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new jS(t,i,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Pf(t)&&(_=1);else if(typeof t=="string")_=FA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=_n(31,a,i,f),t.elementType=C,t.lanes=d,t;case Y:return Ls(a.children,f,d,i);case q:_=8,f|=24;break;case te:return t=_n(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case _e:return t=_n(13,a,i,f),t.elementType=_e,t.lanes=d,t;case oe:return t=_n(19,a,i,f),t.elementType=oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case J:_=9;break e;case ge:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function Lf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Xg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function Uf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Jg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Po(i)},Jg.set(t,i),i)}return{value:t,source:i,stack:Po(i)}}var Ma=[],Va=0,sc=null,al=0,Mn=[],Vn=0,Cr=null,xi=1,Ni="";function Qi(t,i){Ma[Va++]=al,Ma[Va++]=sc,sc=t,al=i}function Wg(t,i,a){Mn[Vn++]=xi,Mn[Vn++]=Ni,Mn[Vn++]=Cr,Cr=t;var l=xi;t=Ni;var f=32-ft(l)-1;l&=~(1<<f),a+=1;var d=32-ft(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,xi=1<<32-ft(i)+f|a<<f|l,Ni=d+t}else xi=1<<d|a<<f|l,Ni=t}function jf(t){t.return!==null&&(Qi(t,1),Wg(t,1,0))}function zf(t){for(;t===sc;)sc=Ma[--Va],Ma[Va]=null,al=Ma[--Va],Ma[Va]=null;for(;t===Cr;)Cr=Mn[--Vn],Mn[Vn]=null,Ni=Mn[--Vn],Mn[Vn]=null,xi=Mn[--Vn],Mn[Vn]=null}function Zg(t,i){Mn[Vn++]=xi,Mn[Vn++]=Ni,Mn[Vn++]=Cr,xi=i.id,Ni=i.overflow,Cr=t}var qt=null,tt=null,Pe=!1,xr=null,Pn=!1,Bf=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(kn(i,t)),Bf}function ey(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Pt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Ne(xl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||yv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Nr(t,!0)}function ty(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:qt=qt.return}}function Pa(t){if(t!==qt)return!1;if(!Pe)return ty(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sm(t.type,t.memoizedProps)),a=!a),a&&tt&&Nr(t),ty(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Rv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=Rv(t)}else i===27?(i=tt,Fr(t.type)?(t=cm,cm=null,tt=t):tt=i):tt=qt?Un(t.stateNode.nextSibling):null;return!0}function Us(){tt=qt=null,Pe=!1}function qf(){var t=xr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),xr=null),t}function ol(t){xr===null?xr=[t]:xr.push(t)}var Hf=k(null),js=null,Yi=null;function Dr(t,i,a){ae(Hf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Hf.current,ee(Hf)}function Ff(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Gf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Ff(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ff(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function La(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;yn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}f=f.return}t!==null&&Gf(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return ny(js,t)}function oc(t,i){return js===null&&zs(t),ny(t,i)}function ny(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var zS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BS=r.unstable_scheduleCallback,qS=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new zS,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&BS(qS,function(){t.controller.abort()})}var ul=null,Qf=0,Ua=0,ja=null;function HS(t,i){if(ul===null){var a=ul=[];Qf=0,Ua=Xd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(iy,iy),i}function iy(){if(--Qf===0&&ul!==null){ja!==null&&(ja.status="fulfilled");var t=ul;ul=null,Ua=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ry=$.S;$.S=function(t,i){B_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HS(t,i),ry!==null&&ry(t,i)};var Bs=k(null);function Yf(){var t=Bs.current;return t!==null?t:Ze.pooledCache}function lc(t,i){i===null?ae(Bs,Bs.current):ae(Bs,i.pool)}function sy(){var t=Yf();return t===null?null:{parent:St._currentValue,pool:t}}var za=Error(s(460)),$f=Error(s(474)),uc=Error(s(542)),cc={then:function(){}};function ay(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,uy(t),t}throw Hs=i,za}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,za):a}}var Hs=null;function ly(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function uy(t){if(t===za||t===uc)throw Error(s(483))}var Ba=null,cl=0;function hc(t){var i=cl;return cl+=1,Ba===null&&(Ba=[]),oy(Ba,t,i)}function hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function cy(t){function i(V,D){if(t){var z=V.deletions;z===null?(V.deletions=[D],V.flags|=16):z.push(D)}}function a(V,D){if(!t)return null;for(;D!==null;)i(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function f(V,D){return V=Ki(V,D),V.index=0,V.sibling=null,V}function d(V,D,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<D?(V.flags|=67108866,D):z):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function _(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function b(V,D,z,X){return D===null||D.tag!==6?(D=Lf(z,V.mode,X),D.return=V,D):(D=f(D,z),D.return=V,D)}function N(V,D,z,X){var de=z.type;return de===Y?Q(V,D,z.props.children,X,z.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&qs(de)===D.type)?(D=f(D,z.props),hl(D,z),D.return=V,D):(D=rc(z.type,z.key,z.props,null,V.mode,X),hl(D,z),D.return=V,D)}function B(V,D,z,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Uf(z,V.mode,X),D.return=V,D):(D=f(D,z.children||[]),D.return=V,D)}function Q(V,D,z,X,de){return D===null||D.tag!==7?(D=Ls(z,V.mode,X,de),D.return=V,D):(D=f(D,z),D.return=V,D)}function W(V,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Lf(""+D,V.mode,z),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return z=rc(D.type,D.key,D.props,null,V.mode,z),hl(z,D),z.return=V,z;case K:return D=Uf(D,V.mode,z),D.return=V,D;case R:return D=qs(D),W(V,D,z)}if(Dt(D)||L(D))return D=Ls(D,V.mode,z,null),D.return=V,D;if(typeof D.then=="function")return W(V,hc(D),z);if(D.$$typeof===ie)return W(V,oc(V,D),z);fc(V,D)}return null}function H(V,D,z,X){var de=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:b(V,D,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===de?N(V,D,z,X):null;case K:return z.key===de?B(V,D,z,X):null;case R:return z=qs(z),H(V,D,z,X)}if(Dt(z)||L(z))return de!==null?null:Q(V,D,z,X,null);if(typeof z.then=="function")return H(V,D,hc(z),X);if(z.$$typeof===ie)return H(V,D,oc(V,z),X);fc(V,z)}return null}function G(V,D,z,X,de){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(z)||null,b(D,V,""+X,de);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return V=V.get(X.key===null?z:X.key)||null,N(D,V,X,de);case K:return V=V.get(X.key===null?z:X.key)||null,B(D,V,X,de);case R:return X=qs(X),G(V,D,z,X,de)}if(Dt(X)||L(X))return V=V.get(z)||null,Q(D,V,X,de,null);if(typeof X.then=="function")return G(V,D,z,hc(X),de);if(X.$$typeof===ie)return G(V,D,z,oc(D,X),de);fc(D,X)}return null}function he(V,D,z,X){for(var de=null,ze=null,fe=D,Ce=D=0,Oe=null;fe!==null&&Ce<z.length;Ce++){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var Be=H(V,fe,z[Ce],X);if(Be===null){fe===null&&(fe=Oe);break}t&&fe&&Be.alternate===null&&i(V,fe),D=d(Be,D,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be,fe=Oe}if(Ce===z.length)return a(V,fe),Pe&&Qi(V,Ce),de;if(fe===null){for(;Ce<z.length;Ce++)fe=W(V,z[Ce],X),fe!==null&&(D=d(fe,D,Ce),ze===null?de=fe:ze.sibling=fe,ze=fe);return Pe&&Qi(V,Ce),de}for(fe=l(fe);Ce<z.length;Ce++)Oe=G(fe,V,Ce,z[Ce],X),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ce:Oe.key),D=d(Oe,D,Ce),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&fe.forEach(function($r){return i(V,$r)}),Pe&&Qi(V,Ce),de}function ye(V,D,z,X){if(z==null)throw Error(s(151));for(var de=null,ze=null,fe=D,Ce=D=0,Oe=null,Be=z.next();fe!==null&&!Be.done;Ce++,Be=z.next()){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var $r=H(V,fe,Be.value,X);if($r===null){fe===null&&(fe=Oe);break}t&&fe&&$r.alternate===null&&i(V,fe),D=d($r,D,Ce),ze===null?de=$r:ze.sibling=$r,ze=$r,fe=Oe}if(Be.done)return a(V,fe),Pe&&Qi(V,Ce),de;if(fe===null){for(;!Be.done;Ce++,Be=z.next())Be=W(V,Be.value,X),Be!==null&&(D=d(Be,D,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return Pe&&Qi(V,Ce),de}for(fe=l(fe);!Be.done;Ce++,Be=z.next())Be=G(fe,V,Ce,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ce:Be.key),D=d(Be,D,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(t1){return i(V,t1)}),Pe&&Qi(V,Ce),de}function We(V,D,z,X){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var de=z.key;D!==null;){if(D.key===de){if(de=z.type,de===Y){if(D.tag===7){a(V,D.sibling),X=f(D,z.props.children),X.return=V,V=X;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&qs(de)===D.type){a(V,D.sibling),X=f(D,z.props),hl(X,z),X.return=V,V=X;break e}a(V,D);break}else i(V,D);D=D.sibling}z.type===Y?(X=Ls(z.props.children,V.mode,X,z.key),X.return=V,V=X):(X=rc(z.type,z.key,z.props,null,V.mode,X),hl(X,z),X.return=V,V=X)}return _(V);case K:e:{for(de=z.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(V,D.sibling),X=f(D,z.children||[]),X.return=V,V=X;break e}else{a(V,D);break}else i(V,D);D=D.sibling}X=Uf(z,V.mode,X),X.return=V,V=X}return _(V);case R:return z=qs(z),We(V,D,z,X)}if(Dt(z))return he(V,D,z,X);if(L(z)){if(de=L(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ye(V,D,z,X)}if(typeof z.then=="function")return We(V,D,hc(z),X);if(z.$$typeof===ie)return We(V,D,oc(V,z),X);fc(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(V,D.sibling),X=f(D,z),X.return=V,V=X):(a(V,D),X=Lf(z,V.mode,X),X.return=V,V=X),_(V)):a(V,D)}return function(V,D,z,X){try{cl=0;var de=We(V,D,z,X);return Ba=null,de}catch(fe){if(fe===za||fe===uc)throw fe;var ze=_n(29,fe,null,V.mode);return ze.lanes=X,ze.return=V,ze}}}var Fs=cy(!0),hy=cy(!1),Or=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ic(t),Yg(t,null,a),i}return nc(t,l,i,a),ic(t)}function fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function Wf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Zf=!1;function dl(){if(Zf){var t=ja;if(t!==null)throw t}}function ml(t,i,a,l){Zf=!1;var f=t.updateQueue;Or=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==_&&(b===null?Q.firstBaseUpdate=B:b.next=B,Q.lastBaseUpdate=N))}if(d!==null){var W=f.baseState;_=0,Q=B=N=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(De&H)===H:(l&H)===H){H!==0&&H===Ua&&(Zf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ye=b;H=i;var We=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){W=he.call(We,W,H);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,H=typeof he=="function"?he.call(We,W,H):he,H==null)break e;W=T({},W,H);break e;case 2:Or=!0}}H=b.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(B=Q=G,N=W):Q=Q.next=G,_|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Q===null&&(N=W),f.baseState=N,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=W}}function fy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function dy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fy(a[t],i)}var qa=k(null),dc=k(0);function my(t,i){t=rr,ae(dc,t),ae(qa,i),rr=t|i.baseLanes}function ed(){ae(dc,rr),ae(qa,qa.current)}function td(){rr=dc.current,ee(qa),ee(dc)}var vn=k(null),Ln=null;function Vr(t){var i=t.alternate;ae(mt,mt.current&1),ae(vn,t),Ln===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Ln=t)}function nd(t){ae(mt,mt.current),ae(vn,t),Ln===null&&(Ln=t)}function py(t){t.tag===22?(ae(mt,mt.current),ae(vn,t),Ln===null&&(Ln=t)):Pr()}function Pr(){ae(mt,mt.current),ae(vn,vn.current)}function En(t){ee(vn),Ln===t&&(Ln=null),ee(mt)}var mt=k(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lm(a)||um(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Re=null,Xe=null,At=null,pc=!1,Ha=!1,Gs=!1,gc=0,pl=0,Fa=null,GS=0;function ct(){throw Error(s(321))}function id(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function rd(t,i,a,l,f,d){return Xi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Wy:vd,Gs=!1,d=a(l,f),Gs=!1,Ha&&(d=yy(i,a,l,f)),gy(t),d}function gy(t){$.H=_l;var i=Xe!==null&&Xe.next!==null;if(Xi=0,At=Xe=Re=null,pc=!1,pl=0,Fa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&ac(t)&&(Rt=!0))}function yy(t,i,a,l){Re=t;var f=0;do{if(Ha&&(Fa=null),pl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,At=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Zy,d=i(a,l)}while(Ha);return d}function KS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?gl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function sd(){var t=gc!==0;return gc=0,t}function ad(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function od(t){if(pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pc=!1}Xi=0,At=Xe=Re=null,Ha=!1,pl=gc=0,Fa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var i=pl;return pl+=1,Fa===null&&(Fa=[]),t=oy(Fa,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Wy:vd),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function ld(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ji(t,i){return typeof i=="function"?i(t):i}function vc(t){var i=pt();return ud(i,Xe,t)}function ud(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,N=null,B=i,Q=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(De&W)===W:(Xi&W)===W){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Ua&&(Q=!0);else if((Xi&H)===H){B=B.next,H===Ua&&(Q=!0);continue}else W={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=W,_=d):N=N.next=W,Re.lanes|=H,jr|=H;W=B.action,Gs&&a(d,W),d=B.hasEagerState?B.eagerState:a(d,W)}else H={lane:W,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=H,_=d):N=N.next=H,Re.lanes|=W,jr|=W;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=b,!yn(d,t.memoizedState)&&(Rt=!0,Q&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cd(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);yn(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function _y(t,i,a){var l=Re,f=pt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,dd(Ty.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},Ey.bind(null,l,f,a,i),null),Ze===null)throw Error(s(349));d||(Xi&127)!==0||vy(l,i,a)}return a}function vy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=yc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ey(t,i,a,l){i.value=a,i.getSnapshot=l,by(i)&&wy(t)}function Ty(t,i,a){return a(function(){by(i)&&wy(t)})}function by(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function wy(t){var i=Ps(t,2);i!==null&&fn(i,t,2)}function hd(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Gs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function Sy(t,i,a,l){return t.baseState=a,ud(t,Xe,typeof l=="function"?l:Ji)}function QS(t,i,a,l,f){if(bc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ay(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var b=a(f,l),N=$.S;N!==null&&N(_,b),Ry(t,i,b)}catch(B){fd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),Ry(t,i,d)}catch(B){fd(t,i,B)}}function Ry(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Iy(t,i,l)},function(l){return fd(t,i,l)}):Iy(t,i,a)}function Iy(t,i,a){i.status="fulfilled",i.value=a,Cy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ay(t,a)))}function fd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Cy(i),i=i.next;while(i!==l)}t.action=null}function Cy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xy(t,i){return i}function Ny(t,i){if(Pe){var a=Ze.formState;if(a!==null){e:{var l=Re;if(Pe){if(tt){t:{for(var f=tt,d=Pn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Un(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=Un(f.nextSibling),l=f.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:i},a.queue=l,a=$y.bind(null,Re,l),l.dispatch=a,l=hd(!1),d=_d.bind(null,Re,!1,l.queue),l=rn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=QS.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Dy(t){var i=pt();return Oy(i,Xe,t)}function Oy(t,i,a){if(i=ud(t,i,xy)[0],t=vc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(_){throw _===za?uc:_}else l=i;i=pt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ga(9,{destroy:void 0},YS.bind(null,f,a),null)),[l,d,t]}function YS(t,i){t.action=i}function ky(t){var i=pt(),a=Xe;if(a!==null)return Oy(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=yc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function My(){return pt().memoizedState}function Ec(t,i,a,l){var f=rn();Re.flags|=t,f.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function Tc(t,i,a,l){var f=pt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&id(l,Xe.memoizedState.deps)?f.memoizedState=Ga(i,d,a,l):(Re.flags|=t,f.memoizedState=Ga(1|i,d,a,l))}function Vy(t,i){Ec(8390656,8,t,i)}function dd(t,i){Tc(2048,8,t,i)}function $S(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=yc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Py(t){var i=pt().memoizedState;return $S({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ly(t,i){return Tc(4,2,t,i)}function Uy(t,i){return Tc(4,4,t,i)}function jy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zy(t,i,a){a=a!=null?a.concat([t]):null,Tc(4,4,jy.bind(null,i,t),a)}function md(){}function By(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&id(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function qy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&id(i,l[1]))return l[0];if(l=t(),Gs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function pd(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=H_(),Re.lanes|=t,jr|=t,a)}function Hy(t,i,a,l){return yn(a,i)?a:qa.current!==null?(t=pd(t,a,l),yn(t,i)||(Rt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=H_(),Re.lanes|=t,jr|=t,i)}function Fy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,b={};$.T=b,_d(t,!1,i,a);try{var N=f(),B=$.S;if(B!==null&&B(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=FS(N,l);yl(t,i,Q,wn(t))}else yl(t,i,l,wn(t))}catch(W){yl(t,i,{then:function(){},status:"rejected",reason:W},wn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),$.T=_}}function XS(){}function gd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Gy(t).queue;Fy(t,f,i,pe,a===null?XS:function(){return Ky(t),a(l)})}function Gy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ky(t){var i=Gy(t);i.next===null&&(i=t.alternate.memoizedState),yl(t,i.next.queue,{},wn())}function yd(){return Ht(Ml)}function Qy(){return pt().memoizedState}function Yy(){return pt().memoizedState}function JS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=kr(a);var l=Mr(i,t,a);l!==null&&(fn(l,i,a),fl(l,i,a)),i={cache:Kf()},t.payload=i;return}i=i.return}}function WS(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bc(t)?Xy(i,a):(a=Vf(t,i,a,l),a!==null&&(fn(a,t,l),Jy(a,i,l)))}function $y(t,i,a){var l=wn();yl(t,i,a,l)}function yl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(t))Xy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,yn(b,_))return nc(t,i,f,0),Ze===null&&tc(),!1}catch{}if(a=Vf(t,i,f,l),a!==null)return fn(a,t,l),Jy(a,i,l),!0}return!1}function _d(t,i,a,l){if(l={lane:2,revertLane:Xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bc(t)){if(i)throw Error(s(479))}else i=Vf(t,a,l,2),i!==null&&fn(i,t,2)}function bc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Xy(t,i){Ha=pc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var _l={readContext:Ht,use:_c,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};_l.useEffectEvent=ct;var Wy={readContext:Ht,use:_c,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,jy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ec(4194308,4,t,i)},useInsertionEffect:function(t,i){Ec(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Gs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var f=a(i);if(Gs){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=WS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=hd(t);var i=t.queue,a=$y.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:md,useDeferredValue:function(t,i){var a=rn();return pd(a,t,i)},useTransition:function(){var t=hd(!1);return t=Fy.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=rn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(De&127)!==0||vy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Vy(Ty.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},Ey.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=Ze.identifierPrefix;if(Pe){var a=Ni,l=xi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=GS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:yd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_d.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:ld,useCacheRefresh:function(){return rn().memoizedState=JS.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},vd={readContext:Ht,use:_c,useCallback:By,useContext:Ht,useEffect:dd,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:qy,useReducer:vc,useRef:My,useState:function(){return vc(Ji)},useDebugValue:md,useDeferredValue:function(t,i){var a=pt();return Hy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=vc(Ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:yd,useFormState:Dy,useActionState:Dy,useOptimistic:function(t,i){var a=pt();return Sy(a,Xe,t,i)},useMemoCache:ld,useCacheRefresh:Yy};vd.useEffectEvent=Py;var Zy={readContext:Ht,use:_c,useCallback:By,useContext:Ht,useEffect:dd,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:qy,useReducer:cd,useRef:My,useState:function(){return cd(Ji)},useDebugValue:md,useDeferredValue:function(t,i){var a=pt();return Xe===null?pd(a,t,i):Hy(a,Xe.memoizedState,t,i)},useTransition:function(){var t=cd(Ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:_y,useId:Qy,useHostTransitionStatus:yd,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=pt();return Xe!==null?Sy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Yy};Zy.useEffectEvent=Py;function Ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Td={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),f=kr(l);f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(fn(i,t,l),fl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),f=kr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(fn(i,t,l),fl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(fn(i,t,a),fl(i,t,a))}};function e_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(f,d):!0}function t_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Td.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function n_(t){ec(t)}function i_(t){console.error(t)}function r_(t){ec(t)}function wc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function s_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,i)},a}function a_(t){return t=kr(t),t.tag=3,t}function o_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){s_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){s_(i,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function ZS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,f,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Vc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qd(t,l,f)),!1;case 22:return a.flags|=65536,l===cc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qd(t,l,f)),!1}throw Error(s(435,a.tag))}return Qd(t,l,f),Vc(),!1}if(Pe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Bf&&(t=Error(s(422),{cause:l}),ol(kn(t,a)))):(l!==Bf&&(i=Error(s(423),{cause:l}),ol(kn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=kn(l,a),f=bd(t.stateNode,l,f),Wf(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Rl===null?Rl=[d]:Rl.push(d),ht!==4&&(ht=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=bd(a.stateNode,l,t),Wf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=a_(f),o_(f,t,a,l),Wf(a,f),!1}a=a.return}while(a!==null);return!1}var wd=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?hy(i,null,a,l):Fs(i,t.child,a,l)}function l_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return zs(i),l=rd(t,i,a,_,d,f),b=sd(),t!==null&&!Rt?(ad(t,i,f),Wi(t,i,f)):(Pe&&b&&jf(i),i.flags|=1,Ft(t,i,l,f),i.child)}function u_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,c_(t,i,d,l,f)):(t=rc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Dd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(_,l)&&t.ref===i.ref)return Wi(t,i,f)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function c_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(rl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,Dd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Wi(t,i,f)}return Sd(t,i,a,l,f)}function h_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return f_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?my(i,d):ed(),py(i);else return l=i.lanes=536870912,f_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(lc(i,d.cachePool),my(i,d),Pr(),i.memoizedState=null):(t!==null&&lc(i,null),ed(),Pr());return Ft(t,i,f,a),i.child}function vl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function f_(t,i,a,l,f){var d=Yf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&lc(i,null),ed(),py(i),t!==null&&La(t,i,l,!0),i.childLanes=f,null}function Sc(t,i){return i=Rc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function d_(t,i,a){return Fs(i,t.child,null,a),t=Sc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function eA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Sc(i,l),i.lanes=536870912,vl(null,t);if(nd(i),(t=tt)?(t=Av(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:xi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return Sc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(nd(i),f)if(i.flags&256)i.flags&=-257,i=d_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||La(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=Ze,l!==null&&(_=zo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ps(t,_),fn(l,t,_),wd;Vc(),i=d_(t,i,a)}else t=d.treeContext,tt=Un(_.nextSibling),qt=i,Pe=!0,xr=null,Pn=!1,t!==null&&Zg(i,t),i=Sc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sd(t,i,a,l,f){return zs(i),a=rd(t,i,a,l,void 0,f),l=sd(),t!==null&&!Rt?(ad(t,i,f),Wi(t,i,f)):(Pe&&l&&jf(i),i.flags|=1,Ft(t,i,a,f),i.child)}function m_(t,i,a,l,f,d){return zs(i),i.updateQueue=null,a=yy(i,l,a,f),gy(t),l=sd(),t!==null&&!Rt?(ad(t,i,d),Wi(t,i,d)):(Pe&&l&&jf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function p_(t,i,a,l,f){if(zs(i),i.stateNode===null){var d=ka,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):ka,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ed(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Td.enqueueReplaceState(d,d.state,null),ml(i,l,d,f),dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Ks(a,b);d.props=N;var B=d.context,Q=a.contextType;_=ka,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==_)&&t_(i,d,l,_),Or=!1;var H=i.memoizedState;d.state=H,ml(i,l,d,f),dl(),B=i.memoizedState,b||H!==B||Or?(typeof W=="function"&&(Ed(i,a,W,l),B=i.memoizedState),(N=Or||e_(i,a,N,l,H,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Jf(t,i),_=i.memoizedProps,Q=Ks(a,_),d.props=Q,W=i.pendingProps,H=d.context,B=a.contextType,N=ka,typeof B=="object"&&B!==null&&(N=Ht(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||H!==N)&&t_(i,d,l,N),Or=!1,H=i.memoizedState,d.state=H,ml(i,l,d,f),dl();var G=i.memoizedState;_!==W||H!==G||Or||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof b=="function"&&(Ed(i,a,b,l),G=i.memoizedState),(Q=Or||e_(i,a,Q,l,H,G,N)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,f),i.child=Fs(i,null,a,f)):Ft(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Wi(t,i,f),t}function g_(t,i,a,l){return Us(),i.flags|=256,Ft(t,i,a,l),i.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(t){return{baseLanes:t,cachePool:sy()}}function Id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function y_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Vr(i):Pr(),(t=tt)?(t=Av(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:xi,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Xg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Nr(i);return um(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Pr(),f=i.mode,b=Rc({mode:"hidden",children:b},f),l=Ls(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Rd(a),l.childLanes=Id(t,_,a),i.memoizedState=Ad,vl(null,l)):(Vr(i),Cd(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=xd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),b=l.fallback,f=i.mode,l=Rc({mode:"visible",children:l.children},f),b=Ls(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=Rd(a),l.childLanes=Id(t,_,a),i.memoizedState=Ad,i=vl(null,l));else if(Vr(i),um(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),i=xd(t,i,a)}else if(Rt||La(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=Ze,_!==null&&(l=zo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ps(t,l),fn(_,t,l),wd;lm(b)||Vc(),i=xd(t,i,a)}else lm(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Un(b.nextSibling),qt=i,Pe=!0,xr=null,Pn=!1,t!==null&&Zg(i,t),i=Cd(i,l.children),i.flags|=4096);return i}return f?(Pr(),b=l.fallback,f=i.mode,N=t.child,B=N.sibling,l=Ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?b=Ki(B,b):(b=Ls(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,vl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Rd(a):(f=b.cachePool,f!==null?(N=St._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=sy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Id(t,_,a),i.memoizedState=Ad,vl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Cd(t,i){return i=Rc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Rc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function xd(t,i,a){return Fs(i,t.child,null,a),t=Cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function __(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ff(t.return,i,a)}function Nd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function v_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ft(t,i,l,a),l=Pe?al:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&__(t,a,i);else if(t.tag===19)__(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Nd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&mc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Nd(i,!0,a,null,d,l);break;case"together":Nd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(La(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function tA(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Dr(i,St,t.memoizedState.cache),Us();break;case 27:case 5:_s(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,nd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?y_(t,i,a):(Vr(i),t=Wi(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return v_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,h_(t,i,a,i.pendingProps);case 24:Dr(i,St,t.memoizedState.cache)}return Wi(t,i,a)}function E_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Dd(t,a)&&(i.flags&128)===0)return Rt=!1,tA(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Pe&&(i.flags&1048576)!==0&&Wg(i,al,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Pf(t)?(l=Ks(t,l),i.tag=1,i=p_(null,i,t,l,a)):(i.tag=0,i=Sd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ge){i.tag=11,i=l_(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=u_(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ks(l,i.pendingProps),p_(t,i,l,f,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Jf(t,i),ml(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Dr(i,St,l),l!==d.cache&&Gf(i,[St],a,!0),dl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=g_(t,i,l,a);break e}else if(l!==f){f=kn(Error(s(424)),i),ol(f),i=g_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=Un(t.firstChild),qt=i,Pe=!0,xr=null,Pn=!0,a=hy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Us(),l===f){i=Wi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return Ac(t,i),t===null?(a=Dv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=qc(Ie.current).createElement(a),l[Tt]=i,l[Pt]=t,Gt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=Dv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _s(i),t===null&&Pe&&(l=i.stateNode=Cv(i.type,i.pendingProps,Ie.current),qt=i,Pn=!0,f=tt,Fr(i.type)?(cm=f,tt=Un(l.firstChild)):tt=f),Ft(t,i,i.pendingProps.children,a),Ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=l=tt)&&(l=DA(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,qt=i,tt=Un(l.firstChild),Pn=!1,f=!0):f=!1),f||Nr(i)),_s(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,sm(f,d)?l=null:_!==null&&sm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=rd(t,i,KS,null,null,a),Ml._currentValue=f),Ac(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=tt)&&(a=OA(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Nr(i)),null;case 13:return y_(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return l_(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,zs(i),f=Ht(f),l=l(f),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return u_(t,i,i.type,i.pendingProps,a);case 15:return c_(t,i,i.type,i.pendingProps,a);case 19:return v_(t,i,a);case 31:return eA(t,i,a);case 22:return h_(t,i,a,i.pendingProps);case 24:return zs(i),l=Ht(St),t===null?(f=Yf(),f===null&&(f=Ze,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Xf(i),Dr(i,St,f)):((t.lanes&a)!==0&&(Jf(t,i),ml(i,null,null,a),dl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Dr(i,St,l)):(l=d.cache,Dr(i,St,l),l!==f.cache&&Gf(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function Od(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Q_())t.flags|=8192;else throw Hs=cc,$f}else t.flags&=-16777217}function T_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pv(i))if(Q_())t.flags|=8192;else throw Hs=cc,$f}function Ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ku():536870912,t.lanes|=i,$a|=i)}function El(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function nA(t,i,a){var l=i.pendingProps;switch(zf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qf())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(nt(i),T_(i,d)):(nt(i),Od(i,f,null,l,a))):d?d!==t.memoizedState?(Zi(i),nt(i),T_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),nt(i),Od(i,f,t,l,a)),null;case 27:if(ma(i),a=Ie.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ce.current,Pa(i)?ey(i):(t=Cv(f,l,a),i.stateNode=t,Zi(i))}return nt(i),null;case 5:if(ma(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ce.current,Pa(i))ey(i);else{var _=qc(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Tt]=i,d[Pt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return nt(i),Od(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ie.current,Pa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||yv(t.nodeValue,a)),t||Nr(i,!0)}else t=qc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Pa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ic(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&em(i.stateNode.containerInfo),nt(i),null;case 10:return $i(i.type),nt(i),null;case 19:if(ee(mt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)El(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=mc(t),d!==null){for(i.flags|=128,El(l,!1),t=d.updateQueue,i.updateQueue=t,Ic(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)$g(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Pe&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Oc&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304)}else{if(!f)if(t=mc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Ic(i,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return nt(i),null}else 2*tn()-l.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=mt.current,ae(mt,f?a&1|2:a&1),Pe&&Qi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return En(i),td(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Ic(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function iA(t,i){switch(zf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(mt),null;case 4:return st(),null;case 10:return $i(i.type),null;case 22:case 23:return En(i),td(),t!==null&&ee(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(St),null;case 25:return null;default:return null}}function b_(t,i){switch(zf(i),i.tag){case 3:$i(St),st();break;case 26:case 27:case 5:ma(i);break;case 4:st();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:ee(mt);break;case 10:$i(i.type);break;case 22:case 23:En(i),td(),t!==null&&ee(Bs);break;case 24:$i(St)}}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(i,i.return,b)}}function Lr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var N=a,B=b;try{B()}catch(Q){Ye(f,N,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ye(i,i.return,Q)}}function w_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{dy(i,a)}catch(l){Ye(t,t.return,l)}}}function S_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function Di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function A_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function kd(t,i,a){try{var l=t.stateNode;AA(l,t.type,a,i),l[Pt]=i}catch(f){Ye(t,t.return,f)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Vd(t,i,a),t=t.sibling;t!==null;)Vd(t,i,a),t=t.sibling}function Cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,i,a),t=t.sibling;t!==null;)Cc(t,i,a),t=t.sibling}function I_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Gt(i,l,a),i[Tt]=t,i[Pt]=a}catch(d){Ye(t,t.return,d)}}var er=!1,It=!1,Pd=!1,C_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function rA(t,i){if(t=t.containerInfo,im=$c,t=zg(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,B=0,Q=0,W=t,H=null;t:for(;;){for(var G;W!==a||f!==0&&W.nodeType!==3||(b=_+f),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)H=W,W=G;for(;;){if(W===t)break t;if(H===a&&++B===f&&(b=_),H===d&&++Q===l&&(N=_),(G=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=G}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:t,selectionRange:a},$c=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Ks(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)om(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function x_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&Tl(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&w_(a),l&512&&bl(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{dy(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&I_(a);case 26:case 5:nr(t,a),i===null&&l&4&&A_(a),l&512&&bl(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&O_(t,a);break;case 13:nr(t,a),l&4&&k_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dA.bind(null,a),kA(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||It,f=er;var d=It;er=l,(It=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=f,It=d}break;case 30:break;default:nr(t,a)}}function N_(t){var i=t.alternate;i!==null&&(t.alternate=null,N_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function tr(t,i,a){for(a=a.child;a!==null;)D_(t,i,a),a=a.sibling}function D_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Fn,a)}catch{}switch(a.tag){case 26:It||Di(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Di(a,i);var l=ot,f=ln;Fr(a.type)&&(ot=a.stateNode,ln=!1),tr(t,i,a),Dl(a.stateNode),ot=l,ln=f;break;case 5:It||Di(a,i);case 6:if(l=ot,f=ln,ot=null,tr(t,i,a),ot=l,ln=f,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(ln?(t=ot,wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):wv(ot,a.stateNode));break;case 4:l=ot,f=ln,ot=a.stateNode.containerInfo,ln=!0,tr(t,i,a),ot=l,ln=f;break;case 0:case 11:case 14:case 15:Lr(2,a,i),It||Lr(4,a,i),tr(t,i,a);break;case 1:It||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&S_(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,tr(t,i,a),It=l;break;default:tr(t,i,a)}}function O_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){Ye(i,i.return,a)}}}function k_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){Ye(i,i.return,a)}}function sA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new C_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new C_),i;default:throw Error(s(435,t.tag))}}function xc(t,i){var a=sA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=mA.bind(null,t,l);l.then(f,f)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Fr(b.type)){ot=b.stateNode,ln=!1;break e}break;case 5:ot=b.stateNode,ln=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(ot===null)throw Error(s(160));D_(d,_,f),ot=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)M_(i,t),i=i.sibling}var ei=null;function M_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Lr(3,t,t.return),Tl(3,t),Lr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var _=Mv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Mv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else Vv(f,t.type,t.stateNode);else t.stateNode=kv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Vv(f,t.type,t.stateNode):kv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),a!==null&&l&4&&kd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(It||a===null||Di(a,a.return)),t.flags&32){f=t.stateNode;try{on(f,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,kd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(Gc=null,f=ei,ei=Hc(i.containerInfo),un(i,t),ei=f,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(he){Ye(t,t.return,he)}Pd&&(Pd=!1,V_(t));break;case 4:l=ei,ei=Hc(t.stateNode.containerInfo),un(i,t),cn(t),ei=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=er,Q=It;if(er=B||f,It=Q||N,un(i,t),It=Q,er=B,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||er||It||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var W=N.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Ye(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(he){Ye(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var G=N.stateNode;f?Sv(G,!0):Sv(N.stateNode,!1)}catch(he){Ye(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Md(t);Cc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var b=Md(t);Cc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Md(t);Vd(t,B,N);break;default:throw Error(s(161))}}catch(Q){Ye(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function V_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;V_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)x_(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Qs(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&S_(i,i.return,a),Qs(i);break;case 27:Dl(i.stateNode);case 26:case 5:Di(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(f,d,a),Tl(4,d);break;case 1:if(ir(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)fy(N[f],b)}catch(B){Ye(l,l.return,B)}}a&&_&64&&w_(d),bl(d,d.return);break;case 27:I_(d);case 26:case 5:ir(f,d,a),a&&l===null&&_&4&&A_(d),bl(d,d.return);break;case 12:ir(f,d,a);break;case 31:ir(f,d,a),a&&_&4&&O_(f,d);break;case 13:ir(f,d,a),a&&_&4&&k_(f,d);break;case 22:d.memoizedState===null&&ir(f,d,a),bl(d,d.return);break;case 30:break;default:ir(f,d,a)}i=i.sibling}}function Ld(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Ud(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t))}function ti(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)P_(t,i,a,l),i=i.sibling}function P_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i,a,l),f&2048&&Tl(9,i);break;case 1:ti(t,i,a,l);break;case 3:ti(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t)));break;case 12:if(f&2048){ti(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else ti(t,i,a,l);break;case 31:ti(t,i,a,l);break;case 13:ti(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ti(t,i,a,l):wl(t,i):d._visibility&2?ti(t,i,a,l):(d._visibility|=2,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Ld(_,i);break;case 24:ti(t,i,a,l),f&2048&&Ud(i.alternate,i);break;default:ti(t,i,a,l)}}function Ka(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,b,N,f),Tl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Ka(d,_,b,N,f):wl(d,_):(Q._visibility|=2,Ka(d,_,b,N,f)),f&&B&2048&&Ld(_.alternate,_);break;case 24:Ka(d,_,b,N,f),f&&B&2048&&Ud(_.alternate,_);break;default:Ka(d,_,b,N,f)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Ld(l.alternate,l);break;case 24:wl(a,l),f&2048&&Ud(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Sl=8192;function Qa(t,i,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)L_(t,i,a),t=t.sibling}function L_(t,i,a){switch(t.tag){case 26:Qa(t,i,a),t.flags&Sl&&t.memoizedState!==null&&GA(a,ei,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,i,a);break;case 3:case 4:var l=ei;ei=Hc(t.stateNode.containerInfo),Qa(t,i,a),ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Qa(t,i,a),Sl=l):Qa(t,i,a));break;default:Qa(t,i,a)}}function U_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,z_(l,t)}U_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)j_(t),t=t.sibling}function j_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Nc(t)):Al(t);break;default:Al(t)}}function Nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,z_(l,t)}U_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}t=t.sibling}}function z_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(N_(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var aA={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},oA=typeof WeakMap=="function"?WeakMap:Map,He=0,Ze=null,xe=null,De=0,Qe=0,Tn=null,Ur=!1,Ya=!1,jd=!1,rr=0,ht=0,jr=0,Ys=0,zd=0,bn=0,$a=0,Rl=null,hn=null,Bd=!1,Dc=0,B_=0,Oc=1/0,kc=null,zr=null,Mt=0,Br=null,Xa=null,sr=0,qd=0,Hd=null,q_=null,Il=0,Fd=null;function wn(){return(He&2)!==0&&De!==0?De&-De:$.T!==null?Xd():Mu()}function H_(){if(bn===0)if((De&536870912)===0||Pe){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function fn(t,i,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),qr(t,De,bn,!1)),bs(t,a),((He&2)===0||t!==Ze)&&(t===Ze&&((He&2)===0&&(Ys|=a),ht===4&&qr(t,De,bn,!1)),Oi(t))}function F_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Gn(t,i),f=l?cA(t,i):Kd(t,i,!0),d=l;do{if(f===0){Ya&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!lA(a)){f=Kd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Rl;var N=b.current.memoizedState.isDehydrated;if(N&&(Ja(b,_).flags|=256),_=Kd(b,_,!1),_!==2){if(jd&&!N){b.errorRecoveryDisabledLanes|=d,Ys|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ja(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,bn,!Ur);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Dc+300-tn(),10<f)){if(qr(l,i,bn,!Ur),mi(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=Tv(G_.bind(null,l,a,hn,kc,Bd,i,bn,Ys,$a,Ur,d,"Throttled",-0,0),f);break e}G_(l,a,hn,kc,Bd,i,bn,Ys,$a,Ur,d,null,-0,0)}}break}while(!0);Oi(t)}function G_(t,i,a,l,f,d,_,b,N,B,Q,W,H,G){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},L_(i,d,W);var he=(d&62914560)===d?Dc-tn():(d&4194048)===d?B_-tn():0;if(he=KA(W,he),he!==null){sr=d,t.cancelPendingCommit=he(Z_.bind(null,t,i,d,a,l,f,_,b,N,Q,W,null,H,G)),qr(t,d,_,!B);return}}Z_(t,i,d,a,l,f,_,b,N)}function lA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~zd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-ft(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ws(t,a,i)}function Mc(){return(He&6)===0?(Cl(0),!1):!0}function Gd(){if(xe!==null){if(Qe===0)var t=xe.return;else t=xe,Yi=js=null,od(t),Ba=null,cl=0,t=xe;for(;t!==null;)b_(t.alternate,t),t=t.return;xe=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,Gd(),Ze=t,xe=a=Ki(t.current,null),De=i,Qe=0,Tn=null,Ur=!1,Ya=Gn(t,i),jd=!1,$a=bn=zd=Ys=jr=ht=0,hn=Rl=null,Bd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-ft(l),d=1<<f;i|=t[f],l&=~d}return rr=i,tc(),a}function K_(t,i){Re=null,$.H=_l,i===za||i===uc?(i=ly(),Qe=3):i===$f?(i=ly(),Qe=4):Qe=i===wd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,xe===null&&(ht=1,wc(t,kn(i,t.current)))}function Q_(){var t=vn.current;return t===null?!0:(De&4194048)===De?Ln===null:(De&62914560)===De||(De&536870912)!==0?t===Ln:!1}function Y_(){var t=$.H;return $.H=_l,t===null?_l:t}function $_(){var t=$.A;return $.A=aA,t}function Vc(){ht=4,Ur||(De&4194048)!==De&&vn.current!==null||(Ya=!0),(jr&134217727)===0&&(Ys&134217727)===0||Ze===null||qr(Ze,De,bn,!1)}function Kd(t,i,a){var l=He;He|=2;var f=Y_(),d=$_();(Ze!==t||De!==i)&&(kc=null,Ja(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&xe!==null){var b=xe,N=Tn;switch(Qe){case 8:Gd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var B=Qe;if(Qe=0,Tn=null,Wa(t,b,N,B),a&&Ya){_=0;break e}break;default:B=Qe,Qe=0,Tn=null,Wa(t,b,N,B)}}uA(),_=ht;break}catch(Q){K_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Yi=js=null,He=l,$.H=f,$.A=d,xe===null&&(Ze=null,De=0,tc()),_}function uA(){for(;xe!==null;)X_(xe)}function cA(t,i){var a=He;He|=2;var l=Y_(),f=$_();Ze!==t||De!==i?(kc=null,Oc=tn()+500,Ja(t,i)):Ya=Gn(t,i);e:do try{if(Qe!==0&&xe!==null){i=xe;var d=Tn;t:switch(Qe){case 1:Qe=0,Tn=null,Wa(t,i,d,1);break;case 2:case 9:if(ay(d)){Qe=0,Tn=null,J_(i);break}i=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Oi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ay(d)?(Qe=0,Tn=null,J_(i)):(Qe=0,Tn=null,Wa(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var b=xe;if(_?Pv(_):b.stateNode.complete){Qe=0,Tn=null;var N=b.sibling;if(N!==null)xe=N;else{var B=b.return;B!==null?(xe=B,Pc(B)):xe=null}break t}}Qe=0,Tn=null,Wa(t,i,d,5);break;case 6:Qe=0,Tn=null,Wa(t,i,d,6);break;case 8:Gd(),ht=6;break e;default:throw Error(s(462))}}hA();break}catch(Q){K_(t,Q)}while(!0);return Yi=js=null,$.H=l,$.A=f,He=a,xe!==null?0:(Ze=null,De=0,tc(),ht)}function hA(){for(;xe!==null&&!bf();)X_(xe)}function X_(t){var i=E_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?Pc(t):xe=i}function J_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=m_(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=m_(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:od(i);default:b_(a,i),i=xe=$g(i,rr),i=E_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?Pc(t):xe=i}function Wa(t,i,a,l){Yi=js=null,od(i),Ba=null,cl=0;var f=i.return;try{if(ZS(t,f,i,a,De)){ht=1,wc(t,kn(a,t.current)),xe=null;return}}catch(d){if(f!==null)throw xe=f,d;ht=1,wc(t,kn(a,t.current)),xe=null;return}i.flags&32768?(Pe||l===1?t=!0:Ya||(De&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),W_(i,t)):Pc(i)}function Pc(t){var i=t;do{if((i.flags&32768)!==0){W_(i,Ur);return}t=i.return;var a=nA(i.alternate,i,rr);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ht===0&&(ht=5)}function W_(t,i){do{var a=iA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ht=6,xe=null}function Z_(t,i,a,l,f,d,_,b,N){t.cancelPendingCommit=null;do Lc();while(Mt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,Af(t,a,d,_,b,N),t===Ze&&(xe=Ze=null,De=0),Xa=i,Br=t,sr=a,qd=d,Hd=f,q_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pA(_r,function(){return rv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=se.p,se.p=2,_=He,He|=4;try{rA(t,i,a)}finally{He=_,se.p=f,$.T=l}}Mt=1,ev(),tv(),nv()}}function ev(){if(Mt===1){Mt=0;var t=Br,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{M_(i,t);var d=rm,_=zg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&jg(b.ownerDocument.documentElement,b)){if(N!==null&&xf(b)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(Q,b.value.length);else{var W=b.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var G=H.getSelection(),he=b.textContent.length,ye=Math.min(N.start,he),We=N.end===void 0?ye:Math.min(N.end,he);!G.extend&&ye>We&&(_=We,We=ye,ye=_);var V=Ug(b,ye),D=Ug(b,We);if(V&&D&&(G.rangeCount!==1||G.anchorNode!==V.node||G.anchorOffset!==V.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var z=W.createRange();z.setStart(V.node,V.offset),G.removeAllRanges(),ye>We?(G.addRange(z),G.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),G.addRange(z))}}}}for(W=[],G=b;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var X=W[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}$c=!!im,rm=im=null}finally{He=f,se.p=l,$.T=a}}t.current=i,Mt=2}}function tv(){if(Mt===2){Mt=0;var t=Br,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{x_(t,i.alternate,i)}finally{He=f,se.p=l,$.T=a}}Mt=3}}function nv(){if(Mt===4||Mt===3){Mt=0,Iu();var t=Br,i=Xa,a=sr,l=q_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Xa=Br=null,iv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(zr=null),qi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Fn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{$.T=i,se.p=f}}(sr&3)!==0&&Lc(),Oi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Fd?Il++:(Il=0,Fd=t):Il=0,Cl(0)}}function iv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ll(i)))}function Lc(){return ev(),tv(),nv(),rv()}function rv(){if(Mt!==5)return!1;var t=Br,i=qd;qd=0;var a=qi(sr),l=$.T,f=se.p;try{se.p=32>a?32:a,$.T=null,a=Hd,Hd=null;var d=Br,_=sr;if(Mt=0,Xa=Br=null,sr=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,j_(d.current),P_(d,d.current,_,a),He=b,Cl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Fn,d)}catch{}return!0}finally{se.p=f,$.T=l,iv(t,i)}}function sv(t,i,a){i=kn(a,i),i=bd(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(bs(t,2),Oi(t))}function Ye(t,i,a){if(t.tag===3)sv(t,t,a);else for(;i!==null;){if(i.tag===3){sv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=kn(a,t),a=a_(2),l=Mr(i,a,2),l!==null&&(o_(a,l,i,t),bs(l,2),Oi(l));break}}i=i.return}}function Qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(jd=!0,f.add(a),t=fA.bind(null,t,i,a),i.then(t,t))}function fA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>tn()-Dc?(He&2)===0&&Ja(t,0):zd|=a,$a===De&&($a=0)),Oi(t)}function av(t,i){i===0&&(i=ku()),t=Ps(t,i),t!==null&&(bs(t,i),Oi(t))}function dA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),av(t,a)}function mA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),av(t,a)}function pA(t,i){return kt(t,i)}var Uc=null,Za=null,Yd=!1,jc=!1,$d=!1,Hr=0;function Oi(t){t!==Za&&t.next===null&&(Za===null?Uc=Za=t:Za=Za.next=t),jc=!0,Yd||(Yd=!0,yA())}function Cl(t,i){if(!$d&&jc){$d=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,cv(l,d))}else d=De,d=mi(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,cv(l,d));l=l.next}while(a);$d=!1}}function gA(){ov()}function ov(){jc=Yd=!1;var t=0;Hr!==0&&IA()&&(t=Hr);for(var i=tn(),a=null,l=Uc;l!==null;){var f=l.next,d=lv(l,i);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=f}Mt!==0&&Mt!==5||Cl(t),Hr!==0&&(Hr=0)}function lv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),b=1<<_,N=f[_];N===-1?((b&a)===0||(b&l)!==0)&&(f[_]=Sf(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=Ze,a=De,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Gn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),qi(a)){case 2:case 8:a=Uo;break;case 32:a=_r;break;case 268435456:a=Cu;break;default:a=_r}return l=uv.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=De;return l=mi(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(F_(t,l,i),lv(t,tn()),t.callbackNode!=null&&t.callbackNode===a?uv.bind(null,t):null)}function cv(t,i){if(Lc())return null;F_(t,i,!0)}function yA(){xA(function(){(He&6)!==0?kt(Lo,gA):ov()})}function Xd(){if(Hr===0){var t=Ua;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Hr=t}return Hr}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function fv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _A(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=hv((f[Pt]||null).action),_=l.submitter;_&&(i=(i=_[Pt]||null)?hv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ai("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var N=_?fv(f,_):new FormData(f);gd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?fv(f,_):new FormData(f),gd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Jd=0;Jd<kf.length;Jd++){var Wd=kf[Jd],vA=Wd.toLowerCase(),EA=Wd[0].toUpperCase()+Wd.slice(1);Zn(vA,"on"+EA)}Zn(Hg,"onAnimationEnd"),Zn(Fg,"onAnimationIteration"),Zn(Gg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(PS,"onTransitionRun"),Zn(LS,"onTransitionStart"),Zn(US,"onTransitionCancel"),Zn(Kg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function dv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,B=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(Q){ec(Q)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,B=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(Q){ec(Q)}f.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var l=t+"__bubble";a.has(l)||(mv(i,t,2,!1),a.add(l))}function Zd(t,i,a){var l=0;i&&(l|=4),mv(a,t,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[zc]){t[zc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(TA.has(a)||Zd(a,!1,t),Zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[zc]||(i[zc]=!0,Zd("selectionchange",!1,i))}}function mv(t,i,a,l){switch(Hv(i)){case 2:var f=$A;break;case 8:f=XA;break;default:f=pm}a=f.bind(null,i,a,t),f=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function tm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=_i(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Sr(function(){var B=d,Q=xn(a),W=[];e:{var H=Qg.get(t);if(H!==void 0){var G=Ai,he=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":G=Ju;break;case"focusin":he="focus",G=Os;break;case"focusout":he="blur",G=Os;break;case"beforeblur":case"afterblur":G=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case Hg:case Fg:case Gg:G=Fu;break;case Kg:G=w;break;case"scroll":case"scrollend":G=Zo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Gi;break;case"toggle":case"beforetoggle":G=Ae}var ye=(i&4)!==0,We=!ye&&(t==="scroll"||t==="scrollend"),V=ye?H!==null?H+"Capture":null:H;ye=[];for(var D=B,z;D!==null;){var X=D;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||V===null||(X=$n(D,V),X!=null&&ye.push(Nl(D,X,z))),We)break;D=D.return}0<ye.length&&(H=new G(H,he,null,a,Q),W.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Xo&&(he=a.relatedTarget||a.fromElement)&&(_i(he)||he[gi]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=B,he=he?_i(he):null,he!==null&&(We=u(he),ye=he.tag,he!==We||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(G=null,he=B),G!==he)){if(ye=el,X="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Gi,X="onPointerLeave",V="onPointerEnter",D="pointer"),We=G==null?H:pn(G),z=he==null?H:pn(he),H=new ye(X,D+"leave",G,a,Q),H.target=We,H.relatedTarget=z,X=null,_i(Q)===B&&(ye=new ye(V,D+"enter",he,a,Q),ye.target=z,ye.relatedTarget=We,X=ye),We=X,G&&he)t:{for(ye=bA,V=G,D=he,z=0,X=V;X;X=ye(X))z++;X=0;for(var de=D;de;de=ye(de))X++;for(;0<z-X;)V=ye(V),z--;for(;0<X-z;)D=ye(D),X--;for(;z--;){if(V===D||D!==null&&V===D.alternate){ye=V;break t}V=ye(V),D=ye(D)}ye=null}else ye=null;G!==null&&pv(W,H,G,ye,!1),he!==null&&We!==null&&pv(W,We,he,ye,!0)}}e:{if(H=B?pn(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ze=Og;else if(Ng(H))if(kg)ze=kS;else{ze=DS;var fe=NS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ba(B.elementType)&&(ze=Og):ze=OS;if(ze&&(ze=ze(t,B))){Dg(W,ze,a,Q);break e}fe&&fe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Qo(H,"number",H.value)}switch(fe=B?pn(B):window,t){case"focusin":(Ng(fe)||fe.contentEditable==="true")&&(Na=fe,Nf=B,sl=null);break;case"focusout":sl=Nf=Na=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Bg(W,a,Q);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":Bg(W,a,Q)}var Ce;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else xa?ks(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ci&&a.locale!=="ko"&&(xa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&xa&&(Ce=Wo()):(Si=Q,Jo="value"in Si?Si.value:Si.textContent,xa=!0)),fe=Bc(B,Oe),0<fe.length&&(Oe=new Ii(Oe,t,null,a,Q),W.push({event:Oe,listeners:fe}),Ce?Oe.data=Ce:(Ce=Ca(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Dn?RS(t,a):IS(t,a))&&(Oe=Bc(B,"onBeforeInput"),0<Oe.length&&(fe=new Ii("onBeforeInput","beforeinput",null,a,Q),W.push({event:fe,listeners:Oe}),fe.data=Ce)),_A(W,t,B,a,Q)}dv(W,i)})}function Nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Bc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(t,a),f!=null&&l.unshift(Nl(t,f,d)),f=$n(t,i),f!=null&&l.push(Nl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function bA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,B=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||B===null||(N=B,f?(B=$n(a,d),B!=null&&_.unshift(Nl(a,B,N))):f||(B=$n(a,d),B!=null&&_.push(Nl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var wA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(wA,`
`).replace(SA,"")}function yv(t,i){return i=gv(i),gv(t)===i}function Je(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":$o(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",f.name,f,null),Je(t,i,"formEncType",f.formEncType,f,null),Je(t,i,"formMethod",f.formMethod,f,null),Je(t,i,"formTarget",f.formTarget,f,null)):(Je(t,i,"encType",f.encType,f,null),Je(t,i,"method",f.method,f,null),Je(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bu.get(a)||a,Ea(t,a,l))}}function nm(t,i,a,l,f,d){switch(a){case"style":$o(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ea(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}f&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var b=d=_=f=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,l,Q,a,null)}}Uu(t,d,b,N,B,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,i,_,b,a,null)}Tr(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,N,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Ne(xl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(ba(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&nm(t,i,Q,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,i,b,l,a,null))}function AA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,B=null,Q=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,W)}}for(var H in l){var G=l[H];if(W=a[H],l.hasOwnProperty(H)&&(G!=null||W!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":_=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==W&&Je(t,i,H,G,l,W)}}Ta(t,_,b,N,B,Q,d,f);return;case"select":G=_=b=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,f,d,l,N)}i=b,a=_,l=G,H!=null?Er(t,!!a,H,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,i,_,f,l,d)}ju(t,H,G);return;case"option":for(var he in a)H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:Je(t,i,he,null,l,H));for(N in l)H=l[N],G=a[N],l.hasOwnProperty(N)&&H!==G&&(H!=null||G!=null)&&(N==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":Je(t,i,N,H,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Je(t,i,ye,null,l,H);for(B in l)if(H=l[B],G=a[B],l.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,B,H,l,G)}return;default:if(ba(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&nm(t,i,We,void 0,l,H);for(Q in l)H=l[Q],G=a[Q],!l.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||nm(t,i,Q,H,l,G);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&Je(t,i,V,null,l,H);for(W in l)H=l[W],G=a[W],!l.hasOwnProperty(W)||H===G||H==null&&G==null||Je(t,i,W,H,l,G)}function _v(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&_v(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>b)break;var Q=N.transferSize,W=N.initiatorType;Q&&_v(W)&&(N=N.responseEnd,_+=Q*(N<b?1:(b-B)/(N-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var im=null,rm=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function sm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var am=null;function IA(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,CA=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,xA=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(t){return bv.resolve(null).then(t).catch(NA)}:Tv;function NA(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function wv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Dl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Dl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[yi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Dl(t.ownerDocument.body);a=f}while(a);io(i)}function Sv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function om(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":om(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function DA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function OA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Av(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$?"||t.data==="$~"}function um(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var cm=null;function Rv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Cv(t,i,a){switch(i=qc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var jn=new Map,xv=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=se.d;se.d={f:MA,r:VA,D:PA,C:LA,L:UA,m:jA,X:BA,S:zA,M:qA};function MA(){var t=ar.f(),i=Mc();return t||i}function VA(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Ky(i):ar.r(t)}var eo=typeof document>"u"?null:document;function Nv(t,i,a){var l=eo;if(l&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),xv.has(f)||(xv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function PA(t){ar.D(t),Nv("dns-prefetch",t,null)}function LA(t,i){ar.C(t,i),Nv("preconnect",t,i)}function UA(t,i,a){ar.L(t,i,a);var l=eo;if(l&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var d=f;switch(i){case"style":d=to(t);break;case"script":d=no(t)}jn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ol(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function jA(t,i){ar.m(t,i);var a=eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!jn.has(d)&&(t=T({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Gt(l,"link",t),bt(l),a.head.appendChild(l)}}}function zA(t,i,a){ar.S(t,i,a);var l=eo;if(l&&t){var f=vi(l).hoistableStyles,d=to(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ol(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&hm(t,a);var N=_=l.createElement("link");bt(N),Gt(N,"link",t),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function BA(t,i){ar.X(t,i);var a=eo;if(a&&t){var l=vi(a).hoistableScripts,f=no(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=T({src:t,async:!0},i),(i=jn.get(f))&&fm(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qA(t,i){ar.M(t,i);var a=eo;if(a&&t){var l=vi(a).hoistableScripts,f=no(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=jn.get(f))&&fm(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Dv(t,i,a,l){var f=(f=Ie.current)?Hc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=vi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=vi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ol(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||HA(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=vi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function to(t){return'href="'+an(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Ov(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function HA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),bt(i),t.head.appendChild(i))}function no(t){return'[src="'+an(t)+'"]'}function kl(t){return"script[async]"+t}function kv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Gt(l,"style",f),Fc(l,a.precedence,t),i.instance=l;case"stylesheet":f=to(a.href);var d=t.querySelector(Ol(f));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=Ov(a),(f=jn.get(f))&&hm(l,f),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Fc(d,a.precedence,t),i.instance=d;case"script":return d=no(a.src),(f=t.querySelector(kl(d)))?(i.instance=f,bt(f),f):(l=a,(f=jn.get(d))&&(l=T({},a),fm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),bt(f),Gt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Fc(l,a.precedence,t));return i.instance}function Fc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function fm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gc=null;function Mv(t,i,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function FA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=to(l.href),d=i.querySelector(Ol(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=Ov(l),(f=jn.get(f))&&hm(l,f),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var dm=0;function KA(t,i){return t.stylesheets&&t.count===0&&Yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&dm===0&&(dm=62500*RA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>dm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Yc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(QA,t),Qc=null,Kc.call(t))}function QA(t,i){if(!(i.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function YA(t,i,a,l,f,d,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Lv(t,i,a,l,f,d,_,b,N,B,Q,W){return t=new YA(t,i,a,_,N,B,Q,W,b),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),t}function Uv(t){return t?(t=ka,t):ka}function jv(t,i,a,l,f,d){f=Uv(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(fn(a,t,i),fl(a,t,i))}function zv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function mm(t,i){zv(t,i),(t=t.alternate)&&zv(t,i)}function Bv(t){if(t.tag===13||t.tag===31){var i=Ps(t,67108864);i!==null&&fn(i,t,67108864),mm(t,67108864)}}function qv(t){if(t.tag===13||t.tag===31){var i=wn();i=Ss(i);var a=Ps(t,i);a!==null&&fn(a,t,i),mm(t,i)}}var $c=!0;function $A(t,i,a,l){var f=$.T;$.T=null;var d=se.p;try{se.p=2,pm(t,i,a,l)}finally{se.p=d,$.T=f}}function XA(t,i,a,l){var f=$.T;$.T=null;var d=se.p;try{se.p=8,pm(t,i,a,l)}finally{se.p=d,$.T=f}}function pm(t,i,a,l){if($c){var f=gm(l);if(f===null)tm(t,i,l,Xc,a),Fv(t,l);else if(WA(f,t,i,a,l))l.stopPropagation();else if(Fv(t,l),i&4&&-1<JA.indexOf(t)){for(;f!==null;){var d=Cn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-ft(_);b.entanglements[1]|=N,_&=~N}Oi(d),(He&6)===0&&(Oc=tn()+500,Cl(0))}}break;case 31:case 13:b=Ps(d,2),b!==null&&fn(b,d,2),Mc(),mm(d,2)}if(d=gm(l),d===null&&tm(t,i,l,Xc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else tm(t,i,l,null,a)}}function gm(t){return t=xn(t),ym(t)}var Xc=null;function ym(t){if(Xc=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function Hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Lo:return 2;case Uo:return 8;case _r:case wf:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var _m=!1,Gr=null,Kr=null,Qr=null,Vl=new Map,Pl=new Map,Yr=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Ll(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Cn(i),i!==null&&Bv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function WA(t,i,a,l,f){switch(i){case"focusin":return Gr=Ll(Gr,t,i,a,l,f),!0;case"dragenter":return Kr=Ll(Kr,t,i,a,l,f),!0;case"mouseover":return Qr=Ll(Qr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,Ll(Pl.get(d)||null,t,i,a,l,f)),!0}return!1}function Gv(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){qv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){qv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=gm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=Cn(a),i!==null&&Bv(i),t.blockedOn=a,!1;i.shift()}return!0}function Kv(t,i,a){Jc(t)&&a.delete(i)}function ZA(){_m=!1,Gr!==null&&Jc(Gr)&&(Gr=null),Kr!==null&&Jc(Kr)&&(Kr=null),Qr!==null&&Jc(Qr)&&(Qr=null),Vl.forEach(Kv),Pl.forEach(Kv)}function Wc(t,i){t.blockedOn===i&&(t.blockedOn=null,_m||(_m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZA)))}var Zc=null;function Qv(t){Zc!==t&&(Zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(ym(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,gd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function io(t){function i(N){return Wc(N,t)}Gr!==null&&Wc(Gr,t),Kr!==null&&Wc(Kr,t),Qr!==null&&Wc(Qr,t),Vl.forEach(i),Pl.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)Gv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Pt]||null;if(typeof d=="function")_||Qv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Pt]||null)b=_.formAction;else if(ym(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Qv(a)}}}function Yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function vm(t){this._internalRoot=t}eh.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();jv(a,l,t,i,null,null)},eh.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;jv(t.current,2,null,t,null,null),Mc(),i[gi]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&Gv(t)}};var $v=e.version;if($v!=="19.2.3")throw Error(s(527,$v,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var e1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Fn=th.inject(e1),zt=th}catch{}}return jl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=n_,d=i_,_=r_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Lv(t,1,!1,null,null,a,l,null,f,d,_,Yv),t[gi]=i.current,em(t),new vm(i)},jl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=n_,_=i_,b=r_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Lv(t,1,!0,i,a??null,l,f,N,d,_,b,Yv),i.context=Uv(null),a=i.current,l=wn(),l=Ss(l),f=kr(l),f.callback=null,Mr(a,f,l),a=l,i.current.lanes=a,bs(i,a),Oi(i),t[gi]=i.current,em(t),new eh(i)},jl.version="19.2.3",jl}var s0;function c1(){if(s0)return bm.exports;s0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=u1(),bm.exports}var h1=c1();var a0="popstate";function f1(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Fm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Zl(o)}return m1(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d1(){return Math.random().toString(36).substring(2,10)}function o0(r,e){return{usr:r.state,key:r.key,idx:e}}function Fm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||d1()}}function Zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function wo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function m1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let q=E(),te=q==null?null:q-g;g=q,p&&p({action:m,location:Y.location,delta:te})}function A(q,te){m="PUSH";let J=Fm(Y.location,q,te);g=E()+1;let ie=o0(J,g),ge=Y.createHref(J);try{h.pushState(ie,"",ge)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(ge)}u&&p&&p({action:m,location:Y.location,delta:1})}function P(q,te){m="REPLACE";let J=Fm(Y.location,q,te);g=E();let ie=o0(J,g),ge=Y.createHref(J);h.replaceState(ie,"",ge),u&&p&&p({action:m,location:Y.location,delta:0})}function K(q){return p1(q)}let Y={get action(){return m},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(a0,T),p=q,()=>{o.removeEventListener(a0,T),p=null}},createHref(q){return e(o,q)},createURL:K,encodeLocation(q){let te=K(q);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:A,replace:P,go(q){return h.go(q)}};return Y}function p1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Zl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function WE(r,e,n="/"){return g1(r,e,n,!1)}function g1(r,e,n,s){let o=typeof e=="string"?wo(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let h=ZE(r);y1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=C1(u);m=R1(h[p],g,s)}return m}function ZE(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=cr([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ZE(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:S1(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of eT(h.path))u(h,m,!0,p)}),e}function eT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=eT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function y1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:A1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _1=/^:[\w-]+$/,v1=3,E1=2,T1=1,b1=10,w1=-2,l0=r=>r==="*";function S1(r,e){let n=r.split("/"),s=n.length;return n.some(l0)&&(s+=w1),e&&(s+=E1),n.filter(o=>!l0(o)).reduce((o,u)=>o+(_1.test(u)?v1:u===""?T1:b1),s)}function A1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function R1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:cr([u,T.pathname]),pathnameBase:O1(cr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=cr([u,T.pathnameBase]))}return h}function Th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=I1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let K=m[A]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const P=m[A];return T&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function I1(r,e=!1,n=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function C1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x1=r=>tT.test(r);function N1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?wo(r):r,u;if(n)if(x1(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=u0(n.substring(1),"/"):u=u0(n,e)}else u=e;return{pathname:u,search:k1(s),hash:M1(o)}}function u0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ep(r){let e=D1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Tp(r,e,n,s=!1){let o;typeof r=="string"?o=wo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=N1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),O1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),k1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,M1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,V1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function P1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function L1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iT(r,e){let n=r;if(typeof n!="string"||!tT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(nT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=fr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Hn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rT=["POST","PUT","PATCH","DELETE"];new Set(rT);var U1=["GET",...rT];new Set(U1);var So=U.createContext(null);So.displayName="DataRouter";var Gh=U.createContext(null);Gh.displayName="DataRouterState";var j1=U.createContext(!1),sT=U.createContext({isTransitioning:!1});sT.displayName="ViewTransition";var z1=U.createContext(new Map);z1.displayName="Fetchers";var B1=U.createContext(null);B1.displayName="Await";var Rn=U.createContext(null);Rn.displayName="Navigation";var fu=U.createContext(null);fu.displayName="Location";var ui=U.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var bp=U.createContext(null);bp.displayName="RouteError";var aT="REACT_ROUTER_ERROR",q1="REDIRECT",H1="ROUTE_ERROR_RESPONSE";function F1(r){if(r.startsWith(`${aT}:${q1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function G1(r){if(r.startsWith(`${aT}:${H1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new V1(e.status,e.statusText,e.data)}catch{}}function K1(r,{relative:e}={}){lt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Rn),{hash:o,pathname:u,search:h}=du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Ao(){return U.useContext(fu)!=null}function ms(){return lt(Ao(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(fu).location}var oT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(r){U.useContext(Rn).static||U.useLayoutEffect(r)}function Kh(){let{isDataRoute:r}=U.useContext(ui);return r?aR():Q1()}function Q1(){lt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(So),{basename:e,navigator:n}=U.useContext(Rn),{matches:s}=U.useContext(ui),{pathname:o}=ms(),u=JSON.stringify(Ep(s)),h=U.useRef(!1);return lT(()=>{h.current=!0}),U.useCallback((p,g={})=>{if(Hn(h.current,oT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Tp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:cr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}U.createContext(null);function Y1(){let{matches:r}=U.useContext(ui),e=r[r.length-1];return e?e.params:{}}function du(r,{relative:e}={}){let{matches:n}=U.useContext(ui),{pathname:s}=ms(),o=JSON.stringify(Ep(n));return U.useMemo(()=>Tp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $1(r,e){return uT(r,e)}function uT(r,e,n,s,o){lt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Rn),{matches:h}=U.useContext(ui),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";hT(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=ms(),P;if(e){let J=typeof e=="string"?wo(e):e;lt(E==="/"||J.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),P=J}else P=A;let K=P.pathname||"/",Y=K;if(E!=="/"){let J=E.replace(/^\//,"").split("/");Y="/"+K.replace(/^\//,"").split("/").slice(J.length).join("/")}let q=WE(r,{pathname:Y});Hn(T||q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Hn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=eR(q&&q.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:cr([E,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:cr([E,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),h,n,s,o);return e&&te?U.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},te):te}function X1(){let r=sR(),e=P1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,h)}var J1=U.createElement(X1,null),cT=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=G1(r.digest);n&&(r=n)}let e=r!==void 0?U.createElement(ui.Provider,{value:this.props.routeContext},U.createElement(bp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(W1,{error:r},e):e}};cT.contextType=j1;var Im=new WeakMap;function W1({children:r,error:e}){let{basename:n}=U.useContext(Rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=F1(e.digest);if(s){let o=Im.get(e);if(o)throw o;let u=iT(s.location,n);if(nT&&!Im.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Im.set(e,h),h}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Z1({routeContext:r,match:e,children:n}){let s=U.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ui.Provider,{value:r},n)}function eR(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:P}=n,K=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||K){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:L1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let P,K=!1,Y=null,q=null;n&&(P=h&&T.route.id?h[T.route.id]:void 0,Y=T.route.errorElement||J1,m&&(p<0&&A===0?(hT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,q=null):p===A&&(K=!0,q=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,A+1)),J=()=>{let ie;return P?ie=Y:K?ie=q:T.route.Component?ie=U.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,U.createElement(Z1,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?U.createElement(cT,{location:n.location,revalidation:n.revalidation,component:Y,error:P,children:J(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):J()},null)}function wp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(r){let e=U.useContext(So);return lt(e,wp(r)),e}function nR(r){let e=U.useContext(Gh);return lt(e,wp(r)),e}function iR(r){let e=U.useContext(ui);return lt(e,wp(r)),e}function Sp(r){let e=iR(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function rR(){return Sp("useRouteId")}function sR(){let r=U.useContext(bp),e=nR("useRouteError"),n=Sp("useRouteError");return r!==void 0?r:e.errors?.[n]}function aR(){let{router:r}=tR("useNavigate"),e=Sp("useNavigate"),n=U.useRef(!1);return lT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Hn(n.current,oT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var c0={};function hT(r,e,n){!e&&!c0[r]&&(c0[r]=!0,Hn(!1,n))}U.memo(oR);function oR({routes:r,future:e,state:n,onError:s}){return uT(r,void 0,n,s,e)}function bh({to:r,replace:e,state:n,relative:s}){lt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Rn);Hn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ui),{pathname:h}=ms(),m=Kh(),p=Tp(r,Ep(u),h,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function or(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){lt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=wo(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:P="default"}=n,K=U.useMemo(()=>{let Y=fr(g,m);return Y==null?null:{location:{pathname:Y,search:E,hash:T,state:A,key:P},navigationType:s}},[m,g,E,T,A,P,s]);return Hn(K!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:U.createElement(Rn.Provider,{value:p},U.createElement(fu.Provider,{children:e,value:K}))}function uR({children:r,location:e}){return $1(Gm(r),e)}function Gm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Gm(s.props.children,u));return}lt(s.type===or,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gm(s.props.children,u)),n.push(h)}),n}var uh="get",ch="application/x-www-form-urlencoded";function Qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function cR(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function hR(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function fR(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function dR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mR(r,e){return r.button===0&&(!e||e==="_self")&&!dR(r)}var nh=null;function pR(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var gR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(r){return r!=null&&!gR.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):r}function yR(r,e){let n,s,o,u,h;if(hR(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||uh,o=Cm(r.getAttribute("enctype"))||ch,u=new FormData(r)}else if(cR(r)||fR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||uh,o=Cm(r.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||ch,u=new FormData(m,r),!pR()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,s=null,o=ch,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _R(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&fr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function vR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ER(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await vR(u,n);return h.links?h.links():[]}return[]}));return AR(s.flat(1).filter(ER).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function bR(r,e,{includeHydrateFallback:n}={}){return wR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function wR(r){return[...new Set(r)]}function SR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function AR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(SR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function fT(){let r=U.useContext(So);return Ap(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RR(){let r=U.useContext(Gh);return Ap(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Rp=U.createContext(void 0);Rp.displayName="FrameworkContext";function dT(){let r=U.useContext(Rp);return Ap(r,"You must render this element inside a <HydratedRouter> element"),r}function IR(r,e){let n=U.useContext(Rp),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=U.useRef(null);U.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=te=>{te.forEach(J=>{h(J.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return A.current&&q.observe(A.current),()=>{q.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let P=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:zl(m,P),onBlur:zl(p,K),onMouseEnter:zl(g,P),onMouseLeave:zl(E,K),onTouchStart:zl(T,P)}]:[!1,A,{}]}function zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function CR({page:r,...e}){let{router:n}=fT(),s=U.useMemo(()=>WE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(NR,{page:r,matches:s,...e}):null}function xR(r){let{manifest:e,routeModules:n}=dT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return TR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function NR({page:r,matches:e,...n}){let s=ms(),{manifest:o,routeModules:u}=dT(),{basename:h}=fT(),{loaderData:m,matches:p}=RR(),g=U.useMemo(()=>h0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>h0(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,Y=!1;if(e.forEach(te=>{let J=o.routes[te.route.id];!J||!J.hasLoader||(!g.some(ie=>ie.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||J.hasClientLoader?Y=!0:K.add(te.route.id))}),K.size===0)return[];let q=_R(r,h,"data");return Y&&K.size>0&&q.searchParams.set("_routes",e.filter(te=>K.has(te.route.id)).map(te=>te.route.id).join(",")),[q.pathname+q.search]},[h,m,s,o,g,e,r,u]),A=U.useMemo(()=>bR(E,o),[E,o]),P=xR(E);return U.createElement(U.Fragment,null,T.map(K=>U.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),A.map(K=>U.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),P.map(({key:K,link:Y})=>U.createElement("link",{key:K,nonce:n.nonce,...Y})))}function DR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OR&&(window.__reactRouterVersion="7.11.0")}catch{}function kR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=f1({window:s,v5Compat:!0}));let u=o.current,[h,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(g=>{n===!1?m(g):U.startTransition(()=>m(g))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(lR,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ea=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...P},K){let{basename:Y,unstable_useTransitions:q}=U.useContext(Rn),te=typeof g=="string"&&mT.test(g),J=iT(g,Y);g=J.to;let ie=K1(g,{relative:o}),[ge,_e,oe]=IR(s,P),I=LR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:q});function R(M){e&&e(M),M.defaultPrevented||I(M)}let C=U.createElement("a",{...P,...oe,href:J.absoluteURL||ie,onClick:J.isExternal||u?e:R,ref:DR(K,_e),target:p,"data-discover":!te&&n==="render"?"true":void 0});return ge&&!te?U.createElement(U.Fragment,null,C,U.createElement(CR,{page:ie})):C});ea.displayName="Link";var MR=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=du(h,{relative:g.relative}),A=ms(),P=U.useContext(Gh),{navigator:K,basename:Y}=U.useContext(Rn),q=P!=null&&qR(T)&&m===!0,te=K.encodeLocation?K.encodeLocation(T).pathname:T.pathname,J=A.pathname,ie=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(J=J.toLowerCase(),ie=ie?ie.toLowerCase():null,te=te.toLowerCase()),ie&&Y&&(ie=fr(ie,Y)||ie);const ge=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let _e=J===te||!o&&J.startsWith(te)&&J.charAt(ge)==="/",oe=ie!=null&&(ie===te||!o&&ie.startsWith(te)&&ie.charAt(te.length)==="/"),I={isActive:_e,isPending:oe,isTransitioning:q},R=_e?e:void 0,C;typeof s=="function"?C=s(I):C=[s,_e?"active":null,oe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return U.createElement(ea,{...g,"aria-current":R,className:C,ref:E,style:M,to:h,viewTransition:m},typeof p=="function"?p(I):p)});MR.displayName="NavLink";var VR=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=uh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...P},K)=>{let{unstable_useTransitions:Y}=U.useContext(Rn),q=zR(),te=BR(m,{relative:g}),J=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&mT.test(m),ge=_e=>{if(p&&p(_e),_e.defaultPrevented)return;_e.preventDefault();let oe=_e.nativeEvent.submitter,I=oe?.getAttribute("formmethod")||h,R=()=>q(oe||_e.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});Y&&n!==!1?U.startTransition(()=>R()):R()};return U.createElement("form",{ref:K,method:J,action:te,onSubmit:s?p:ge,...P,"data-discover":!ie&&r==="render"?"true":void 0})});VR.displayName="Form";function PR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let e=U.useContext(So);return lt(e,PR(r)),e}function LR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Kh(),E=ms(),T=du(r,{relative:u});return U.useCallback(A=>{if(mR(A,e)){A.preventDefault();let P=n!==void 0?n:Zl(E)===Zl(T),K=()=>g(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>K()):K()}},[E,g,T,n,s,e,r,o,u,h,m,p])}var UR=0,jR=()=>`__${String(++UR)}__`;function zR(){let{router:r}=pT("useSubmit"),{basename:e}=U.useContext(Rn),n=rR(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=yR(u,e);if(h.navigate===!1){let A=h.fetcherKey||jR();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function BR(r,{relative:e}={}){let{basename:n}=U.useContext(Rn),s=U.useContext(ui);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(r||".",{relative:e})},h=ms();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),Zl(u)}function qR(r,{relative:e}={}){let n=U.useContext(sT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pT("useViewTransitionState"),o=du(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Th(o.pathname,h)!=null||Th(o.pathname,u)!=null}const aa={ar:{name:"  ",birth:" 2006  ",education:"      ",heroTitle:"  & ",heroSubtitle:"   ",aboutTitle:"",traitsTitle:" ",traits:[{title:" ",desc:"    ."},{title:" ",desc:"    ."},{title:" ",desc:"     ."},{title:"  ",desc:"      ."}],bio:"      .      .",contact:" ",footer:"    2025",navbar:{home:"",about:"",courses:"",blog:"",services:"",contact:"",cta:"  "},privacyTitle:" ",termsTitle:" ",privacyContent:`
               .       :
            1.  :              (localStorage).
            2. :           .
            3. :    IP       .
            4. :             .
        `,termsContent:`
                   :
            1. :   ( )    .
            2. :       .
            3. :             .
        `,privacyLinks:{privacy:" ",terms:" "}},en:{name:"Abdalla Abdiaziz Ashir",birth:"Born in 2006, from Somalia",education:"High School Certificate from Saudi Arabia",heroTitle:"Web Designer & Photographer",heroSubtitle:"My name is Abdalla and I am a freelance",aboutTitle:"About Me",traitsTitle:"Personal Traits",traits:[{title:"Detail-oriented",desc:"Structured and focused on fine details."},{title:"Credibility & Accuracy",desc:"Values proper sources and scholarly accuracy."},{title:"Curious & Driven",desc:"Project-driven, patient with learning from the ground up."},{title:"Depth over Complexity",desc:"Seeks depth but avoids unnecessary complexity."}],bio:"Someone who blends discipline, faith, and technical curiosity, aiming to create work thats both useful and trustworthy.",contact:"Contact Me",footer:"Made by Abdalla  2025",navbar:{home:"Home",about:"About Me",courses:"Courses",blog:"Blog",services:"Services",contact:"Contact",cta:"Download CV"},privacyTitle:"Privacy Policy",termsTitle:"Terms of Service",privacyContent:`
            We are committed to protecting your privacy. This policy outlines our data handling:
            1. Data Collection: We track visit counts anonymously using random IDs stored in your browser (localStorage).
            2. Purpose: This data is used solely to improve site performance and understand engagement.
            3. Security: No IP addresses are collected, and no data is shared with third parties.
            4. Control: You can clear your browser data at any time to remove your tracking ID.
        `,termsContent:`
            By using Abdalla's website, you agree to the following terms:
            1. Ownership: All content (images/text) is protected by copyright.
            2. Usage: The site is for portfolio showcase and professional contact only.
            3. Liability: Information is provided as-is, and we are not liable for technical or typographical errors.
        `,privacyLinks:{privacy:"Privacy Policy",terms:"Terms of Service"}}},gT=U.createContext();function HR({children:r}){const[e,n]=U.useState(localStorage.getItem("theme")||"light");U.useEffect(()=>{const o=window.document.documentElement;e==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const s=()=>{n(o=>o==="light"?"dark":"light")};return S.jsx(gT.Provider,{value:{theme:e,toggleTheme:s},children:r})}function FR(){return U.useContext(gT)}function mu({lang:r,setLang:e}){const n=aa[r].navbar,[s,o]=U.useState(!1),{theme:u,toggleTheme:h}=FR();return S.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass transition-colors duration-300",children:[S.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex justify-between items-center h-20",children:[S.jsxs("div",{className:"flex items-center gap-8",children:[S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("h1",{className:"text-xl font-bold tracking-tighter",children:S.jsx("span",{className:"text-blue-600",children:"as8ix"})})}),S.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[S.jsx("a",{href:"/",className:"font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors",children:n.home}),S.jsx("a",{href:"#",className:"font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors",children:n.about}),S.jsx("a",{href:"#",className:"font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors",children:n.courses}),S.jsx("a",{href:"/blog",className:"font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors",children:n.blog}),S.jsx("a",{href:"#",className:"font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors",children:n.services}),S.jsx("a",{href:"#",className:"font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white transition-colors",children:n.contact}),S.jsx("div",{className:"h-4 w-px bg-gray-200 dark:bg-gray-700 mx-2"}),S.jsx("a",{href:"/login",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors",children:"Login"})]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:h,className:"p-2 rounded-full border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-300",children:u==="dark"?S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"5"}),S.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),S.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),S.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),S.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),S.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),S.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),S.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),S.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),S.jsx("button",{onClick:()=>e(r==="ar"?"en":"ar"),className:"text-sm font-semibold text-gray-600 hover:text-black uppercase",children:r==="ar"?"EN":""}),S.jsx("a",{href:"/cv.pdf",download:"Abdalla_CV.pdf",className:"hidden sm:inline-block px-6 py-2.5 bg-blue-700 hover:bg-blue-800 text-white font-medium rounded-full shadow-lg shadow-blue-700/20 transition-all transform hover:-translate-y-0.5",children:n.cta}),S.jsx("button",{className:"md:hidden p-2 text-gray-600",onClick:()=>o(!s),children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),S.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),S.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]})]})}),s&&S.jsxs("div",{className:"md:hidden bg-white dark:bg-[#0a0a0a] border-b border-gray-100 dark:border-white/10 p-4 space-y-4",children:[S.jsx("a",{href:"#",className:"block py-2 font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white",children:n.home}),S.jsx("a",{href:"#",className:"block py-2 font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white",children:n.about}),S.jsx("a",{href:"#",className:"block py-2 font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white",children:n.courses}),S.jsx("a",{href:"#",className:"block py-2 font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white",children:n.blog}),S.jsx("a",{href:"#",className:"block py-2 font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white",children:n.services}),S.jsx("a",{href:"#",className:"block py-2 font-medium text-gray-600 dark:text-gray-300 hover:text-black dark:hover:text-white",children:n.contact}),S.jsx("a",{href:"/login",className:"block py-2 font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Login"}),S.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-white/10",children:S.jsx("a",{href:"/cv.pdf",download:"Abdalla_CV.pdf",className:"block w-full text-center px-6 py-3 bg-blue-700 text-white font-medium rounded-full",children:n.cta})})]})]})}function GR({lang:r}){const e=aa[r],n=r==="ar";return S.jsxs("header",{className:"relative w-full min-h-[90vh] flex flex-col justify-center px-6 md:px-20 pt-32 pb-20 overflow-hidden",children:[S.jsx("div",{className:"rich-glow w-[500px] h-[500px] bg-blue-600/20 -top-20 -right-20 animate-float"}),S.jsx("div",{className:"rich-glow w-[400px] h-[400px] bg-purple-600/10 bottom-0 -left-20 animate-float delay-500"}),S.jsxs("div",{className:"max-w-7xl mx-auto w-full grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-20 items-center relative z-10",children:[S.jsxs("div",{className:`order-2 md:order-1 ${n?"text-right":"text-left"}`,children:[S.jsxs("p",{className:"text-lg md:text-xl font-medium mb-4 text-gray-500 dark:text-gray-400 animate-fade-in-up",children:[" ",e.heroSubtitle]}),S.jsx("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black leading-none tracking-tighter mb-6 dark:text-white animate-fade-in-up delay-100",children:e.heroTitle.split("&").map((s,o)=>S.jsxs("span",{className:"block",children:[s.trim()," ",o===0&&S.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"&"})," "]},o))}),S.jsx("div",{className:"h-1 w-20 bg-black dark:bg-white mb-8 animate-fade-in-up delay-200"})]}),S.jsx("div",{className:"order-1 md:order-2 flex justify-center md:justify-end",children:S.jsxs("div",{className:"relative w-full max-w-xs md:max-w-md aspect-[3/4] overflow-hidden grayscale hover:grayscale-0 transition-all duration-700 ease-in-out shadow-2xl rounded-[40px] -rotate-2 hover:rotate-0 border-8 border-white dark:border-zinc-900 group",children:[S.jsx("img",{src:"images/portrait_main.jpg",alt:"Abdalla Portrait",className:"object-cover w-full h-full scale-105 group-hover:scale-100 transition-transform duration-700"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]})})]}),S.jsx("div",{className:"absolute bottom-10 left-1/2 transform -translate-x-1/2 animate-bounce",children:S.jsx("div",{className:"w-px h-16 bg-black/20"})})]})}function KR({lang:r}){const e=aa[r];return S.jsxs("section",{className:"py-32 px-6 md:px-20 bg-white dark:bg-[#060606] relative overflow-hidden",children:[S.jsx("div",{className:"rich-glow w-[400px] h-[400px] bg-blue-600/5 -top-20 -left-20 animate-float"}),S.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-20 items-center",children:[S.jsx("div",{className:"relative aspect-[4/5] overflow-hidden grayscale hover:grayscale-0 transition-all duration-700 max-w-sm mx-auto lg:max-w-full rounded-[40px] shadow-2xl rotate-2 hover:rotate-0 border-8 border-white dark:border-zinc-900 group",children:S.jsx("img",{src:"/images/madinah.jpg",alt:"Madinah",className:"object-cover w-full h-full scale-105 group-hover:scale-100 transition-transform duration-700"})}),S.jsxs("div",{className:"lg:pr-10",children:[S.jsx("div",{className:"inline-block px-4 py-1.5 bg-blue-600/10 text-blue-600 dark:text-blue-400 text-xs font-bold tracking-widest uppercase mb-8 rounded-full",children:e.aboutTitle}),S.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-10 leading-none dark:text-white tracking-tighter",children:e.birth}),S.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 leading-relaxed",children:e.bio}),S.jsx("div",{className:"p-8 bg-gray-50 dark:bg-zinc-900/50 rounded-3xl border border-gray-100 dark:border-white/5",children:S.jsxs("p",{className:"text-lg text-gray-500 dark:text-gray-400 font-medium italic",children:['"',e.education,'"']})})]})]})})]})}function QR({lang:r}){const e=aa[r];return S.jsxs("section",{className:"py-32 px-6 md:px-20 bg-gray-50/50 dark:bg-zinc-950/50 relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-blue-600/5 blur-[120px] pointer-events-none"}),S.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[S.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-20 uppercase dark:text-white tracking-tighter",children:e.traitsTitle}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.traits.map((n,s)=>S.jsxs("div",{className:"premium-card p-10 group animate-fade-in-up",style:{animationDelay:`${s*150}ms`},children:[S.jsx("div",{className:"w-14 h-14 bg-blue-600 dark:bg-white rounded-2xl mb-8 flex items-center justify-center text-white dark:text-black shadow-lg shadow-blue-600/20 group-hover:scale-110 transition-transform",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),S.jsx("h3",{className:"text-2xl font-bold mb-4 dark:text-white",children:n.title}),S.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400 leading-relaxed",children:n.desc})]},s))})]})]})}const YR=()=>{};var f0={};const yT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$R=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(A=64)),s.push(n[E],n[T],n[A],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$R(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new XR;const A=u<<2|m>>4;if(s.push(A),g!==64){const P=m<<4&240|g>>2;if(s.push(P),T!==64){const K=g<<6&192|T;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(r){const e=yT(r);return _T.encodeByteArray(e,!0)},wh=function(r){return JR(r).replace(/\./g,"")},vT=function(r){try{return _T.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZR=()=>WR().__FIREBASE_DEFAULTS__,eI=()=>{if(typeof process>"u"||typeof f0>"u")return;const r=f0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vT(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return YR()||ZR()||eI()||tI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ET=r=>Yh()?.emulatorHosts?.[r],nI=r=>{const e=ET(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},TT=()=>Yh()?.config,bT=r=>Yh()?.[`_${r}`];class iI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wT(r){return(await fetch(r,{credentials:"include"})).ok}function rI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[wh(JSON.stringify(n)),wh(JSON.stringify(h)),""].join(".")}const Ql={};function sI(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function aI(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let d0=!1;function ST(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Ql[r]===e||Ql[r]||d0)return;Ql[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=sI().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{d0=!0,h()},A}function E(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=aI(s),P=n("text"),K=document.getElementById(P)||document.createElement("span"),Y=n("learnmore"),q=document.getElementById(Y)||document.createElement("a"),te=n("preprendIcon"),J=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),E(q,Y);const ge=g();p(J,te),ie.append(J,K,q,ge),document.body.appendChild(ie)}u?(K.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function lI(){const r=Yh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hI(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fI(){return!lI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RT(){try{return typeof indexedDB=="object"}catch{return!1}}function IT(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function dI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const mI="FirebaseError";class ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mI,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?pI(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ci(o,m,s)}}function pI(r,e){return r.replace(gI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const gI=/\{\$([^}]+)}/g;function yI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function os(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(m0(u)&&m0(h)){if(!os(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function m0(r){return r!==null&&typeof r=="object"}function pu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function _I(r,e){const n=new vI(r,e);return n.subscribe.bind(n)}class vI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");EI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xm(){}const TI=1e3,bI=2,wI=14400*1e3,SI=.5;function p0(r,e=TI,n=bI){const s=e*Math.pow(n,r),o=Math.round(SI*s*(Math.random()-.5)*2);return Math.min(wI,s+o)}function _t(r){return r&&r._delegate?r._delegate:r}class si{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class AI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new iI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(II(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RI(r){return r===$s?void 0:r}function II(r){return r.instantiationMode==="EAGER"}class CI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const xI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},NI=ke.INFO,DI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},OI=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=DI[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $h{constructor(e){this.name=e,this._logLevel=NI,this._logHandler=OI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const kI=(r,e)=>e.some(n=>r instanceof n);let g0,y0;function MI(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VI(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Km=new WeakMap,xT=new WeakMap,Nm=new WeakMap,Ip=new WeakMap;function PI(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ns(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,r)}).catch(()=>{}),Ip.set(e,r),e}function LI(r){if(Km.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Km.set(r,e)}let Qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function UI(r){Qm=r(Qm)}function jI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Dm(this),e,...n);return xT.set(s,e.sort?e.sort():[e]),ns(s)}:VI().includes(r)?function(...e){return r.apply(Dm(this),e),ns(CT.get(this))}:function(...e){return ns(r.apply(Dm(this),e))}}function zI(r){return typeof r=="function"?jI(r):(r instanceof IDBTransaction&&LI(r),kI(r,MI())?new Proxy(r,Qm):r)}function ns(r){if(r instanceof IDBRequest)return PI(r);if(Nm.has(r))return Nm.get(r);const e=zI(r);return e!==r&&(Nm.set(r,e),Ip.set(e,r)),e}const Dm=r=>Ip.get(r);function NT(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ns(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ns(h.result),p.oldVersion,p.newVersion,ns(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const BI=["get","getKey","getAll","getAllKeys","count"],qI=["put","add","delete","clear"],Om=new Map;function _0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=qI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||BI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Om.set(e,u),u}UI(r=>({...r,get:(e,n,s)=>_0(e,n)||r.get(e,n,s),has:(e,n)=>!!_0(e,n)||r.has(e,n)}));class HI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FI(r){return r.getComponent()?.type==="VERSION"}const Ym="@firebase/app",v0="0.14.6";const dr=new $h("@firebase/app"),GI="@firebase/app-compat",KI="@firebase/analytics-compat",QI="@firebase/analytics",YI="@firebase/app-check-compat",$I="@firebase/app-check",XI="@firebase/auth",JI="@firebase/auth-compat",WI="@firebase/database",ZI="@firebase/data-connect",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",iC="@firebase/installations",rC="@firebase/installations-compat",sC="@firebase/messaging",aC="@firebase/messaging-compat",oC="@firebase/performance",lC="@firebase/performance-compat",uC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",fC="@firebase/storage-compat",dC="@firebase/firestore",mC="@firebase/ai",pC="@firebase/firestore-compat",gC="firebase",yC="12.6.0";const $m="[DEFAULT]",_C={[Ym]:"fire-core",[GI]:"fire-core-compat",[QI]:"fire-analytics",[KI]:"fire-analytics-compat",[$I]:"fire-app-check",[YI]:"fire-app-check-compat",[XI]:"fire-auth",[JI]:"fire-auth-compat",[WI]:"fire-rtdb",[ZI]:"fire-data-connect",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[iC]:"fire-iid",[rC]:"fire-iid-compat",[sC]:"fire-fcm",[aC]:"fire-fcm-compat",[oC]:"fire-perf",[lC]:"fire-perf-compat",[uC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[fC]:"fire-gcs-compat",[dC]:"fire-fst",[pC]:"fire-fst-compat",[mC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};const Sh=new Map,vC=new Map,Xm=new Map;function E0(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function zi(r){const e=r.name;if(Xm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,r);for(const n of Sh.values())E0(n,r);for(const n of vC.values())E0(n,r);return!0}function la(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ni(r){return r==null?!1:r.settings!==void 0}const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new oa("app","Firebase",EC);class TC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const Io=yC;function DT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw is.create("no-options");const u=Sh.get(o);if(u){if(os(n,u.options)&&os(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const h=new CI(o);for(const p of Xm.values())h.addComponent(p);const m=new TC(n,s,h);return Sh.set(o,m),m}function Cp(r=$m){const e=Sh.get(r);if(!e&&r===$m&&TT())return DT();if(!e)throw is.create("no-app",{appName:r});return e}function Bn(r,e,n){let s=_C[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(h.join(" "));return}zi(new si(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bC="firebase-heartbeat-database",wC=1,eu="firebase-heartbeat-store";let km=null;function OT(){return km||(km=NT(bC,wC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),km}async function SC(r){try{const n=(await OT()).transaction(eu),s=await n.objectStore(eu).get(kT(r));return await n.done,s}catch(e){if(e instanceof ci)dr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function T0(r,e){try{const s=(await OT()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,kT(r)),await s.done}catch(n){if(n instanceof ci)dr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function kT(r){return`${r.name}!${r.options.appId}`}const AC=1024,RC=30;class IC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>RC){const o=NC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=b0(),{heartbeatsToSend:n,unsentEntries:s}=CC(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function b0(){return new Date().toISOString().substring(0,10)}function CC(r,e=AC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),w0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),w0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RT()?IT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function w0(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}function NC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function DC(r){zi(new si("platform-logger",e=>new HI(e),"PRIVATE")),zi(new si("heartbeat",e=>new IC(e),"PRIVATE")),Bn(Ym,v0,r),Bn(Ym,v0,"esm2020"),Bn("fire-js","")}DC("");var OC="firebase",kC="12.7.0";Bn(OC,kC,"app");function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MC=MT,VT=new oa("auth","Firebase",MT());const Ah=new $h("@firebase/auth");function VC(r,...e){Ah.logLevel<=ke.WARN&&Ah.warn(`Auth (${Io}): ${r}`,...e)}function hh(r,...e){Ah.logLevel<=ke.ERROR&&Ah.error(`Auth (${Io}): ${r}`,...e)}function ai(r,...e){throw xp(r,...e)}function Mi(r,...e){return xp(r,...e)}function PT(r,e,n){const s={...MC(),[e]:n};return new oa("auth","Firebase",s).create(e,{appName:r.name})}function rs(r){return PT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VT.create(r,...e)}function ve(r,e,...n){if(!r)throw xp(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hh(e),new Error(e)}function mr(r,e){r||lr(e)}function Jm(){return typeof self<"u"&&self.location?.href||""}function PC(){return S0()==="http:"||S0()==="https:"}function S0(){return typeof self<"u"&&self.location?.protocol||null}function LC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PC()||AT()||"connection"in navigator)?navigator.onLine:!0}function UC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=oI()||cI()}get(){return LC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Np(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class LT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BC=new gu(3e4,6e4);function ua(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,o={}){return UT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=pu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return uI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),LT.fetch()(await jT(r,r.config.apiHost,n,m),g)})}async function UT(r,e,n){r._canInitEmulator=!1;const s={...jC,...e};try{const o=new HC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ih(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw ih(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw PT(r,E,g);ai(r,E)}}catch(o){if(o instanceof ci)throw o;ai(r,"network-request-failed",{message:String(o)})}}async function Xh(r,e,n,s,o={}){const u=await ps(r,e,n,s,o);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function jT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return zC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function qC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),BC.get())})}}function ih(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(r,e,s);return o.customData._tokenResponse=n,o}function A0(r){return r!==void 0&&r.enterprise!==void 0}class FC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GC(r,e){return ps(r,"GET","/v2/recaptchaConfig",ua(r,e))}async function KC(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QC(r,e=!1){const n=_t(r),s=await n.getIdToken(e),o=Dp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(Mm(o.auth_time)),issuedAtTime:Yl(Mm(o.iat)),expirationTime:Yl(Mm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Mm(r){return Number(r)*1e3}function Dp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(n);return o?JSON.parse(o):(hh("Failed to decode base64 JWT payload"),null)}catch(o){return hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function R0(r){const e=Dp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ci&&YC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $C{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(r){const e=r.auth,n=await r.getIdToken(),s=await tu(r,Rh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?zT(o.providerUserInfo):[],h=JC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function XC(r){const e=_t(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function zT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WC(r,e){const n=await UT(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await jT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),LT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZC(r,e){return ps(r,"POST","/v2/accounts:revokeToken",ua(r,e))}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=R0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new uo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return lr("not implemented")}}function Xr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $C(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QC(this,e)}reload(){return XC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await tu(this,KC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:P,providerData:K,stsTokenManager:Y}=n;ve(T&&Y,e,"internal-error");const q=uo.fromJSON(this.name,Y);ve(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Xr(u,e.name),Xr(h,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(E,e.name);const te=new ri({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:P,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return K&&Array.isArray(K)&&(te.providerData=K.map(J=>({...J}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?zT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new uo;m.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const I0=new Map;function ur(r){mr(r instanceof Function,"Expected a class definition");let e=I0.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,I0.set(r,e),e)}class BT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BT.type="NONE";const C0=BT;function fh(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=fh(this.userKey,o.apiKey,u),this.fullPersistenceKey=fh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(ur(C0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(C0);const h=fh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Rh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await ri._fromGetAccountInfoResponse(e,A,E)}else T=ri._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new co(u,e,s))}}function x0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(YT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||FT(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function qT(r=en()){return/firefox\//i.test(r)}function HT(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FT(r=en()){return/crios\//i.test(r)}function GT(r=en()){return/iemobile/i.test(r)}function KT(r=en()){return/android/i.test(r)}function QT(r=en()){return/blackberry/i.test(r)}function YT(r=en()){return/webos/i.test(r)}function Op(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function e2(r=en()){return Op(r)&&!!window.navigator?.standalone}function t2(){return hI()&&document.documentMode===10}function $T(r=en()){return Op(r)||KT(r)||YT(r)||QT(r)||/windows phone/i.test(r)||GT(r)}function XT(r,e=[]){let n;switch(r){case"Browser":n=x0(en());break;case"Worker":n=`${x0(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}class n2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function i2(r,e={}){return ps(r,"GET","/v2/passwordPolicy",ua(r,e))}const r2=6;class s2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??r2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class a2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new n2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(rs(this));const n=e?_t(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i2(this),n=new s2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Co(r){return _t(r)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_I(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o2(r){Jh=r}function JT(r){return Jh.loadJS(r)}function l2(){return Jh.recaptchaEnterpriseScript}function u2(){return Jh.gapiScript}function c2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class h2{constructor(){this.enterprise=new f2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class f2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const d2="recaptcha-enterprise",WT="NO_RECAPTCHA";class m2{constructor(e){this.type=d2,this.auth=Co(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{GC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new FC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;A0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(WT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&A0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=l2();p.length!==0&&(p+=m),JT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function D0(r,e,n,s=!1,o=!1){const u=new m2(r);let h;if(o)h=WT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function O0(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await D0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await D0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function p2(r,e){const n=la(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(os(u,e??{}))return o;ai(o,"already-initialized")}return n.initialize({options:e})}function g2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function y2(r,e,n){const s=Co(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:h,port:m}=_2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(os(g,s.config.emulator)&&os(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ro(h)?(wT(`${u}//${h}${p}`),ST("Auth",!0)):v2()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _2(r){const e=ZT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:k0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:k0(h)}}}function k0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function v2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class kp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function E2(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}async function T2(r,e){return Xh(r,"POST","/v1/accounts:signInWithPassword",ua(r,e))}async function b2(r,e){return Xh(r,"POST","/v1/accounts:signInWithEmailLink",ua(r,e))}async function w2(r,e){return Xh(r,"POST","/v1/accounts:signInWithEmailLink",ua(r,e))}class nu extends kp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O0(e,n,"signInWithPassword",T2);case"emailLink":return b2(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O0(e,s,"signUpPassword",E2);case"emailLink":return w2(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ho(r,e){return Xh(r,"POST","/v1/accounts:signInWithIdp",ua(r,e))}const S2="http://localhost";class ta extends kp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ta(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}function A2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R2(r){const e=Bl(ql(r)).link,n=e?Bl(ql(e)).deep_link_id:null,s=Bl(ql(r)).deep_link_id;return(s?Bl(ql(s)).link:null)||s||n||e||r}class Mp{constructor(e){const n=Bl(ql(e)),s=n.apiKey??null,o=n.oobCode??null,u=A2(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=R2(e);try{return new Mp(n)}catch{return null}}}class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Mp.parseLink(n);return ve(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends eb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends yu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class Wr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class Zr extends yu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class es extends yu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),h=M0(s);return new go({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=M0(s);return new go({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function M0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ch extends ci{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function tb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,s):u})}async function I2(r,e,n=!1){const s=await tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return go._forOperation(r,"link",s)}async function C2(r,e,n=!1){const{auth:s}=r;if(ni(s.app))return Promise.reject(rs(s));const o="reauthenticate";try{const u=await tu(r,tb(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=Dp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(r.uid===m,s,"user-mismatch"),go._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function nb(r,e,n=!1){if(ni(r.app))return Promise.reject(rs(r));const s="signIn",o=await tb(r,s,e),u=await go._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function x2(r,e){return nb(Co(r),e)}async function N2(r){const e=Co(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function D2(r,e,n){return ni(r.app)?Promise.reject(rs(r)):x2(_t(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&N2(r),s})}function O2(r,e,n,s){return _t(r).onIdTokenChanged(e,n,s)}function k2(r,e,n){return _t(r).beforeAuthStateChanged(e,n)}function M2(r,e,n,s){return _t(r).onAuthStateChanged(e,n,s)}function V2(r){return _t(r).signOut()}const xh="__sak";class ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P2=1e3,L2=10;class rb extends ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);t2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,L2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rb.type="LOCAL";const U2=rb;class sb extends ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sb.type="SESSION";const ab=sb;function j2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await j2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];function Vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class z2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Vi(){return window}function B2(r){Vi().location.href=r}function ob(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function q2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H2(){return navigator?.serviceWorker?.controller||null}function F2(){return ob()?self:null}const lb="firebaseLocalStorageDb",G2=1,Nh="firebaseLocalStorage",ub="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(r,e){return r.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function K2(){const r=indexedDB.deleteDatabase(lb);return new _u(r).toPromise()}function Zm(){const r=indexedDB.open(lb,G2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nh,{keyPath:ub})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await K2(),e(await Zm()))})})}async function V0(r,e,n){const s=Zh(r,!0).put({[ub]:e,value:n});return new _u(s).toPromise()}async function Q2(r,e){const n=Zh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function P0(r,e){const n=Zh(r,!0).delete(e);return new _u(n).toPromise()}const Y2=800,$2=3;class cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>$2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(F2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q2(),!this.activeServiceWorker)return;this.sender=new z2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await V0(e,xh,"1"),await P0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>V0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Q2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Zh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cb.type="LOCAL";const X2=cb;new gu(3e4,6e4);function J2(r,e){return e?ur(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pp extends kp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W2(r){return nb(r.auth,new Pp(r),r.bypassAuthState)}function Z2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),C2(n,new Pp(r),r.bypassAuthState)}async function ex(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),I2(n,new Pp(r),r.bypassAuthState)}class hb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W2;case"linkViaPopup":case"linkViaRedirect":return ex;case"reauthViaPopup":case"reauthViaRedirect":return Z2;default:ai(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tx=new gu(2e3,1e4);class lo extends hb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tx.get())};e()}}lo.currentPopupAction=null;const nx="pendingRedirect",dh=new Map;class ix extends hb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const s=await rx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rx(r,e){const n=ox(e),s=ax(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sx(r,e){dh.set(r._key(),e)}function ax(r){return ur(r._redirectPersistence)}function ox(r){return fh(nx,r.config.apiKey,r.name)}async function lx(r,e,n=!1){if(ni(r.app))return Promise.reject(rs(r));const s=Co(r),o=J2(s,e),h=await new ix(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const ux=600*1e3;class cx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!fb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ux&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function hx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fb(r);default:return!1}}async function fx(r,e={}){return ps(r,"GET","/v1/projects",e)}const dx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mx=/^https?/;async function px(r){if(r.config.emulator)return;const{authorizedDomains:e}=await fx(r);for(const n of e)try{if(gx(n))return}catch{}ai(r,"unauthorized-domain")}function gx(r){const e=Jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!mx.test(n))return!1;if(dx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const yx=new gu(3e4,6e4);function U0(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _x(r){return new Promise((e,n)=>{function s(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Mi(r,"network-request-failed"))},timeout:yx.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=c2("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(Mi(r,"network-request-failed"))},JT(`${u2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw mh=null,e})}let mh=null;function vx(r){return mh=mh||_x(r),mh}const Ex=new gu(5e3,15e3),Tx="__/auth/iframe",bx="emulator/auth/iframe",wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ax(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Np(e,bx):`https://${r.config.authDomain}/${Tx}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=Sx.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function Rx(r){const e=await vx(r),n=Vi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:Ax(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Mi(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(h)},Ex.get());function p(){Vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const Ix={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cx=500,xx=600,Nx="_blank",Dx="http://localhost";class j0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ox(r,e,n,s=Cx,o=xx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...Ix,width:s.toString(),height:o.toString(),top:u,left:h},g=en().toLowerCase();n&&(m=FT(g)?Nx:n),qT(g)&&(e=e||Dx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[P,K])=>`${A}${P}=${K},`,"");if(e2(g)&&m!=="_self")return kx(e||"",m),new j0(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new j0(T)}function kx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Mx="__/auth/handler",Vx="emulator/auth/handler",Px=encodeURIComponent("fac");async function z0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof eb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",yI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof yu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${Px}=${encodeURIComponent(p)}`:"";return`${Lx(r)}?${pu(m).slice(1)}${g}`}function Lx({config:r}){return r.emulator?Np(r,Vx):`https://${r.authDomain}/${Mx}`}const Vm="webStorageSupport";class Ux{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ab,this._completeRedirectFn=lx,this._overrideRedirectResult=sx}async _openPopup(e,n,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await z0(e,n,s,Jm(),o);return Ox(e,u,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await z0(e,n,s,Jm(),o);return B2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Rx(e),s=new cx(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{const u=o?.[0]?.[Vm];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=px(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $T()||HT()||Op()}}const jx=Ux;var B0="@firebase/auth",q0="1.12.0";class zx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qx(r){zi(new si("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(r)},g=new a2(s,o,u,p);return g2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),zi(new si("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(s=>new zx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(B0,q0,Bx(r)),Bn(B0,q0,"esm2020")}const Hx=300,Fx=bT("authIdTokenMaxAge")||Hx;let H0=null;const Gx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Fx)return;const o=n?.token;H0!==o&&(H0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kx(r=Cp()){const e=la(r,"auth");if(e.isInitialized())return e.getImmediate();const n=p2(r,{popupRedirectResolver:jx,persistence:[X2,U2,ab]}),s=bT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Gx(u.toString());k2(n,h,()=>h(n.currentUser)),O2(n,m=>h(m))}}const o=ET("auth");return o&&y2(n,`http://${o}`),n}function Qx(){return document.getElementsByTagName("head")?.[0]??document}o2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Qx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qx("Browser");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,db;(function(){var r;function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,O,L){for(var x=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)x[rt-2]=arguments[rt];return R.prototype[O].apply(M,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const M=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)M[O]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],O=I.g[2];let L=I.g[3],x;x=R+(L^C&(O^L))+M[0]+3614090360&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(O^R&(C^O))+M[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=O+(C^L&(R^C))+M[2]+606105819&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(R^O&(L^R))+M[3]+3250441966&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(L^C&(O^L))+M[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(O^R&(C^O))+M[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=O+(C^L&(R^C))+M[6]+2821735955&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(R^O&(L^R))+M[7]+4249261313&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(L^C&(O^L))+M[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(O^R&(C^O))+M[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=O+(C^L&(R^C))+M[10]+4294925233&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(R^O&(L^R))+M[11]+2304563134&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(L^C&(O^L))+M[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=L+(O^R&(C^O))+M[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=O+(C^L&(R^C))+M[14]+2792965006&4294967295,O=L+(x<<17&4294967295|x>>>15),x=C+(R^O&(L^R))+M[15]+1236535329&4294967295,C=O+(x<<22&4294967295|x>>>10),x=R+(O^L&(C^O))+M[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(R^C))+M[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(L^R))+M[11]+643717713&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(O^L))+M[0]+3921069994&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(O^L&(C^O))+M[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(R^C))+M[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(L^R))+M[15]+3634488961&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(O^L))+M[4]+3889429448&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(O^L&(C^O))+M[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(R^C))+M[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(L^R))+M[3]+4107603335&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(O^L))+M[8]+1163531501&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(O^L&(C^O))+M[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=L+(C^O&(R^C))+M[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=O+(R^C&(L^R))+M[7]+1735328473&4294967295,O=L+(x<<14&4294967295|x>>>18),x=C+(L^R&(O^L))+M[12]+2368359562&4294967295,C=O+(x<<20&4294967295|x>>>12),x=R+(C^O^L)+M[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^O)+M[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=O+(L^R^C)+M[11]+1839030562&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^R)+M[14]+4259657740&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(C^O^L)+M[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^O)+M[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=O+(L^R^C)+M[7]+4139469664&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^R)+M[10]+3200236656&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(C^O^L)+M[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^O)+M[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=O+(L^R^C)+M[3]+3572445317&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^R)+M[6]+76029189&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(C^O^L)+M[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=L+(R^C^O)+M[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=O+(L^R^C)+M[15]+530742520&4294967295,O=L+(x<<16&4294967295|x>>>16),x=C+(O^L^R)+M[2]+3299628645&4294967295,C=O+(x<<23&4294967295|x>>>9),x=R+(O^(C|~L))+M[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~O))+M[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=O+(R^(L|~C))+M[14]+2878612391&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~R))+M[5]+4237533241&4294967295,C=O+(x<<21&4294967295|x>>>11),x=R+(O^(C|~L))+M[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~O))+M[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=O+(R^(L|~C))+M[10]+4293915773&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~R))+M[1]+2240044497&4294967295,C=O+(x<<21&4294967295|x>>>11),x=R+(O^(C|~L))+M[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~O))+M[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=O+(R^(L|~C))+M[6]+2734768916&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~R))+M[13]+1309151649&4294967295,C=O+(x<<21&4294967295|x>>>11),x=R+(O^(C|~L))+M[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=L+(C^(R|~O))+M[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=O+(R^(L|~C))+M[2]+718787259&4294967295,O=L+(x<<15&4294967295|x>>>17),x=C+(L^(O|~R))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<R;){if(O==0)for(;L<=C;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(M[O++]=I.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<R;)if(M[O++]=I[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[R++]=this.g[C]>>>M&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;const C=[];let M=!0;for(let O=I.length-1;O>=0;O--){const L=I[O]|0;M&&L==R||(C[O]=L,M=!1)}this.g=C}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return q(g(-I));const R=[];let C=1;for(let M=0;I>=C;M++)R[M]=I/C|0,C*=4294967296;return new h(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return q(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let M=T;for(let L=0;L<I.length;L+=8){var O=Math.min(8,I.length-L);const x=parseInt(I.substring(L,L+O),R);O<8?(O=g(Math.pow(R,O)),M=M.j(O).add(g(x))):(M=M.j(C),M=M.add(g(x)))}return M}var T=p(0),A=p(1),P=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-q(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(Y(this))return"-"+q(this).toString(I);const R=g(Math.pow(I,6));var C=this;let M="";for(;;){const O=ge(C,R).g;C=te(C,O.j(R));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,K(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=te(this,I),Y(I)?-1:K(I)?0:1};function q(I){const R=I.g.length,C=[];for(let M=0;M<R;M++)C[M]=~I.g[M];return new h(C,~I.h).add(A)}r.abs=function(){return Y(this)?q(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let O=0;O<=R;O++){let L=M+(this.i(O)&65535)+(I.i(O)&65535),x=(L>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);M=x>>>16,L&=65535,x&=65535,C[O]=x<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function te(I,R){return I.add(q(R))}r.j=function(I){if(K(this)||K(I))return T;if(Y(this))return Y(I)?q(this).j(q(I)):q(q(this).j(I));if(Y(I))return q(this.j(q(I)));if(this.l(P)<0&&I.l(P)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<I.g.length;O++){const L=this.i(M)>>>16,x=this.i(M)&65535,rt=I.i(O)>>>16,Dt=I.i(O)&65535;C[2*M+2*O]+=x*Dt,J(C,2*M+2*O),C[2*M+2*O+1]+=L*Dt,J(C,2*M+2*O+1),C[2*M+2*O+1]+=x*rt,J(C,2*M+2*O+1),C[2*M+2*O+2]+=L*rt,J(C,2*M+2*O+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new h(C,0)};function J(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ie(I,R){this.g=I,this.h=R}function ge(I,R){if(K(R))throw Error("division by zero");if(K(I))return new ie(T,T);if(Y(I))return R=ge(q(I),R),new ie(q(R.g),q(R.h));if(Y(R))return R=ge(I,q(R)),new ie(q(R.g),R.h);if(I.g.length>30){if(Y(I)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=R;M.l(I)<=0;)C=_e(C),M=_e(M);var O=oe(C,1),L=oe(M,1);for(M=oe(M,2),C=oe(C,2);!K(M);){var x=L.add(M);x.l(I)<=0&&(O=O.add(C),L=x),M=oe(M,1),C=oe(C,1)}return R=te(I,O.j(R)),new ie(O,R)}for(O=T;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(C),x=L.j(R);Y(x)||x.l(I)>0;)C-=M,L=g(C),x=L.j(R);K(L)&&(L=A),O=O.add(L),I=te(I,x)}return new ie(O,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)&I.i(M);return new h(C,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)|I.i(M);return new h(C,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)^I.i(M);return new h(C,this.h^I.h)};function _e(I){const R=I.g.length+1,C=[];for(let M=0;M<R;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(C,I.h)}function oe(I,R){const C=R>>5;R%=32;const M=I.g.length-C,O=[];for(let L=0;L<M;L++)O[L]=R>0?I.i(L+C)>>>R|I.i(L+C+1)<<32-R:I.i(L+C);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,db=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ss=h}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mb,Hl,pb,ph,ep,gb,yb,_b;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in v))break e;v=v[j]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(w,j,F){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return y.prototype[j].apply(w,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function K(c,y){for(let w=1;w<arguments.length;w++){const j=arguments[w];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const F=j.length||0;c.length=v+F;for(let re=0;re<F;re++)c[v+re]=j[re]}else c.push(j)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){h.setTimeout(()=>{throw c},0)}function te(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,v){const w=ie.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new Y(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,oe=!1,I=new J,R=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){q(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(rt,O),rt.prototype.init=function(c,y){const v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,y,v,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=j,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function k(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)c[v]=w[v];for(let F=0;F<ee.length;F++)v=ee[F],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,w,j){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Ie(c,y,w,j);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,F,!!w,j),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var w=c.g[v],j=Array.prototype.indexOf.call(w,y,void 0),F;(F=j>=0)&&Array.prototype.splice.call(w,j,1),F&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,y,v,w){for(let j=0;j<c.length;++j){const F=c[j];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==w)return j}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,v,w,j){if(Array.isArray(y)){for(let F=0;F<y.length;F++)st(c,y[F],v,w,j);return null}return v=Po(v),c&&c[Dt]?c.J(y,v,m(w)?!!w.capture:!1,j):_s(c,y,v,!1,w,j)}function _s(c,y,v,w,j,F){if(!y)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let Ae=vs(c);if(Ae||(c[Le]=Ae=new ce(c)),v=Ae.add(y,v,w,re,F),v.proxy)return v;if(w=ma(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)L||(j=re),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(hi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return y.call(c.src,c.listener,v)}const y=Mo;return c}function pa(c,y,v,w,j){if(Array.isArray(y))for(var F=0;F<y.length;F++)pa(c,y[F],v,w,j);else w=m(w)?!!w.capture:!!w,v=Po(v),c&&c[Dt]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=Ie(y,v,w,j),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ie(y,v,w,j)),(v=c>-1?y[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])Te(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(hi(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=vs(y))?(Te(v,c),v.h==0&&(v.src=null,y[Le]=null)):pe(c)}}}function hi(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Mo(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,w=c.ha||c.src;c.fa&&ga(c),c=v.call(w,y)}return c}function vs(c){return c=c[Le],c instanceof ce?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function vt(){M.call(this),this.i=new ce(this),this.M=this,this.G=null}T(vt,M),vt.prototype[Dt]=!0,vt.prototype.removeEventListener=function(c,y,v,w){pa(this,c,y,v,w)};function kt(c,y){var v,w=c.G;if(w)for(v=[];w;w=w.G)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var j=y;y=new O(w,c),ae(y,j)}j=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=y.g=v[re],j=yr(F,w,!0,y)&&j;if(F=y.g=c,j=yr(F,w,!0,y)&&j,j=yr(F,w,!1,y)&&j,v)for(re=0;re<v.length;re++)F=y.g=v[re],j=yr(F,w,!1,y)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let w=0;w<v.length;w++)pe(v[w]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},vt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function yr(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let F=0;F<y.length;++F){const re=y[F];if(re&&!re.da&&re.capture==v){const Ae=re.listener,dt=re.ha||re.src;re.fa&&Te(c.i,re),j=Ae.call(dt,w)!==!1&&j}}return j&&!w.defaultPrevented}function bf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Iu(c){c.g=bf(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){M.call(this),this.h=c,this.g={}}T(Es,M);var Lo=[];function Uo(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&ga(y)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Uo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=h.JSON.stringify,wf=h.JSON.parse,Cu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function xu(){}function Nu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}T(zt,O);function In(){O.call(this,"c")}T(In,O);var ft={},Du=null;function ya(){return Du=Du||new vt}ft.Ia="serverreachability";function Ou(c){O.call(this,ft.Ia,c)}T(Ou,O);function fi(c){const y=ya();kt(y,new Ou(y))}ft.STAT_EVENT="statevent";function Ts(c,y){O.call(this,ft.STAT_EVENT,c),this.stat=y}T(Ts,O);function Et(c){const y=ya();kt(y,new Ts(y,c))}ft.Ja="timingevent";function di(c,y){O.call(this,ft.Ja,c),this.size=y}T(di,O);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Gn(){this.g=!0}Gn.prototype.ua=function(){this.g=!1};function Sf(c,y,v,w,j,F){c.info(function(){if(c.g)if(F){var re="",Ae=F.split("&");for(let qe=0;qe<Ae.length;qe++){var dt=Ae[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Dn=at.split("_");re=Dn.length>=2&&Dn[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+v+`
`+re})}function ku(c,y,v,w,j,F,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+v+`
`+F+" "+re})}function pi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Af(c,v)+(w?" "+w:"")})}function bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function Af(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return _r(F)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zo;function Ss(){}T(Ss,xu),Ss.prototype.g=function(){return new XMLHttpRequest},zo=new Ss;function qi(c){return encodeURIComponent(String(c))}function Mu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.S=w||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function gi(c,y,v){c.M=1,c.A=As(wt(y)),c.u=v,c.R=!0,_a(c,null)}function _a(c,y){c.F=Date.now(),yi(c),c.B=wt(c.A);var v=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),ba(v.i,"t",w),c.C=0,v=c.j.L,c.h=new Qn,c.g=$u(c.j,v?y:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,w=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Lo[0]=j.toString()),j=Lo);for(let F=0;F<j.length;F++){const re=st(v,j[F],w||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),Sf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Xn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ae!=4||dt==7||(dt==8||qe<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=Rf(this);if(this.o=y==200,ku(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var F=w;break t}}F=null}if(c=F)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Et(12),pn(this),Cn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Pu(this,v),at==Pt){Ae==4&&(this.m=4,Et(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,at,null),vi(this,at);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(re),re.P=!0,Et(11))}}else pi(this.i,this.l,v,null),vi(this,v);Ae==4&&pn(this),this.o&&!this.K&&(Ae==4?Gu(this.j,this):(this.o=!1,yi(this)))}else Fi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),pn(this),Cn(this)}}}catch{}};function Rf(c){if(!Vu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const w=y.length,j=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<w;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(j&&F==w-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Pt:(v=Number(y.substring(v,w)),isNaN(v)?Tt:(w+=1,w+v>y.length?Pt:(y=y.slice(w,w+v),c.C=w+v,y)))}Kn.prototype.cancel=function(){this.K=!0,pn(this)};function yi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(g(c.aa,c),y)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(fi(),Et(17)),pn(this),this.m=2,Cn(this)):va(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Gu(c.j,c)}function pn(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Uo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Rr(v);else break e;Os(v),Et(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&Ia(v),!x(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let qe=j[y];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Dn=qe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ci=qe[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const Jn=qe[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(w=1.5*Jn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Wn=c.g;if(Wn){const ks=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var F=w.h;F.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ho(F,F.h),F.h=null))}if(w.G){const Ca=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(w.wa=Ca,Ke(w.J,w.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var re=c;if(w.na=Yu(w,w.L?w.ba:null,w.W),re.L){Fo(w.h,re);var Ae=re,dt=w.O;dt&&(Ae.H=dt),Ae.D&&(_i(Ae),yi(Ae)),w.g=re}else Hu(w);v.i.length>0&&Ri(v)}else qe[0]!="stop"&&qe[0]!="close"||Ii(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ii(v,7):Zo(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}fi(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function Bo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ho(c,y){c.g?c.g.add(y):c.h=y}function Fo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const w=c[v].indexOf("=");let j,F=null;w>=0?(j=c[v].substring(0,w),F=c[v].substring(w+1)):j=c[v],y(j,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,Ko(this,Bu(c.i)),this.m=c.m):c&&(y=String(c).match(Lu))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),vr(this,y[4]),this.h=bi(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Rs(y,Ta,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rs(y,Ta,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?Qo:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,ju)),c.join("")},gn.prototype.resolve=function(c){const y=wt(this);let v=!!c.j;v?Lt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var w=c.h;if(v)vr(y,c.u);else if(v=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=y.h.lastIndexOf("/");j!=-1&&(w=y.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const F=[];for(let re=0;re<j.length;){const Ae=j[re++];Ae=="."?w&&re==j.length&&F.push(""):Ae==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&re==j.length&&F.push("")):(F.push(Ae),w=!0)}w=F.join("/")}else w=j}return v?y.h=w:v=c.i.toString()!=="",v?Ko(y,Bu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function wt(c){return new gn(c)}function Lt(c,y,v){c.j=v?bi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ko(c,y,v){y instanceof Tr?(c.i=y,wa(c.i,c.l)):(v||(y=Rs(y,Er)),c.i=new Tr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function As(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,Uu=/[#\?:]/g,Qo=/[#\?]/g,Er=/[#\?@]/g,ju=/#/g;function Tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,y){on(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function zu(c,y){on(c),y=br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yo(c,y){return on(c),y=br(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,w){v.forEach(function(j){c.call(y,j,w,this)},this)},this)};function $o(c,y){on(c);let v=[];if(typeof y=="string")Yo(c,y)&&(v=v.concat(c.g.get(br(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=br(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=$o(this,c),c.length>0?String(c[0]):y):y};function ba(c,y,v){zu(c,y),v.length>0&&(c.i=null,c.g.set(br(c,y),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const j=qi(v);v=$o(this,v);for(let F=0;F<v.length;F++){let re=j;v[F]!==""&&(re+="="+qi(v[F])),c.push(re)}}return this.i=c.join("&")};function Bu(c){const y=new Tr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wa(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,w){const j=w.toLowerCase();w!=j&&(zu(this,w),ba(this,j,v))},c)),c.j=y}function Yn(c,y){const v=new Gn;if(h.Image){const w=new Image;w.onload=E(xn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(xn,v,"TestLoadImage: error",!1,y,w),w.onabort=E(xn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Xo(c,y){const v=new Gn,w=new AbortController,j=setTimeout(()=>{w.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(F=>{clearTimeout(j),F.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function wr(){this.g=new Cu}function wi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(wi,xu),wi.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,vt),r=Is.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):$n(this),this.readyState==3&&Sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Na=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return je(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Cs(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Nn(v),typeof c=="string"?v!=null&&qi(v):Ke(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,vt);var Si=/^https?$/i,Jo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){xs(this,F);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())v.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Jo,y,void 0)>=0)||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){xs(this,F)}};function xs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Wo(c),Hi(c)}function Wo(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=F===0){let re=String(c.D).match(Lu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),w=!Si.test(re?re.toLowerCase():"")}v=w}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var j=Xn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Wo(c)}}finally{Hi(c)}}}}function Hi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),wf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(x(c[w]))continue;var v=Mu(c[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[j]||[];y[j]=F,F.push(v)}Ge(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ar(c){this.za=0,this.i=[],this.j=new Gn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,w){Et(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Yu(this,null,this.W),Ri(this)};function Zo(c){if(Aa(c),c.I==3){var y=c.V++,v=wt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Ds(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=As(wt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=$u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Qu(c)}function Rr(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function Aa(c){Rr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ia(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ri(c){if(!qo(c.h)&&!c.m){c.m=!0;var y=c.Ea;_e||R(),oe||(_e(),oe=!0),I.add(y,c),c.D=0}}function Ra(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(g(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Kn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=k(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(j.J=F,F=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=qu(this,j,y),v=wt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ds(this,v),F&&(this.R?y="headers="+qi(Nn(F))+"&"+y:this.u&&Cs(v,this.u,F)),Ho(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),j.U=!0,gi(j,v,null)):gi(j,v,y),this.I=2}}else this.I==3&&(c?el(this,c):this.i.length==0||qo(this.h)||el(this))};function el(c,y){var v;y?v=y.l:v=c.V++;const w=wt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",v),Ke(w,"AID",c.K),Ds(c,w),c.u&&c.o&&Cs(w,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=qu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ho(c.h,v),gi(v,w,y)}function Ds(c,y){c.H&&je(c.H,function(v,w){Ke(y,w,v)}),c.l&&je({},function(v,w){Ke(y,w,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ae=-1;for(;;){const dt=["count="+v];Ae==-1?v>0?(Ae=j[0].g,dt.push("ofs="+Ae)):Ae=0:dt.push("ofs="+Ae);let qe=!0;for(let at=0;at<v;at++){var F=j[at].g;const Dn=j[at].map;if(F-=Ae,F<0)Ae=Math.max(0,j[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var re=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ci,Jn]of re){let Wn=Jn;m(Jn)&&(Wn=_r(Jn)),dt.push(F+Ci+"="+encodeURIComponent(Wn))}}catch(Ci){throw dt.push(F+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(Dn)}}if(qe){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Hu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;_e||R(),oe||(_e(),oe=!0),I.add(y,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(g(c.Da,c),Ku(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Rr(this),Fu(this))};function tl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Fu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ds(c,y),c.u&&c.o&&Cs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=As(wt(y)),v.u=null,v.R=!0,_a(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Os(this),Et(19))};function Ia(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){Ia(c),tl(c),c.g=null;var w=2}else if(Ti(c.h,y))v=y.G,Fo(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;w=ya(),kt(w,new di(w,v)),Ri(c)}else Hu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(w==1&&Ra(c,y)||w==2&&Os(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Ku(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ii(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),w=c.Ua;const j=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(w,"https"),As(w),j?Yn(w.toString(),v):Xo(w.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),Qu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ja,y),K(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Yu(c,y,v){var w=v instanceof gn?wt(v):new gn(v);if(w.g!="")y&&(w.g=y+"."+w.g),vr(w,w.u);else{var j=h.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const F=new gn(null);w&&Lt(F,w),y&&(F.g=y),j&&vr(F,j),v&&(F.h=v),w=F}return v=c.G,y=c.wa,v&&y&&Ke(w,v,y),Ke(w,"VER",c.ka),Ds(c,w),w}function $u(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new wi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){vt.call(this),this.g=new Ar(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}T(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Zo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);y.i.push(new bt(y.Ya++,c)),y.I==3&&Ri(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,nn.Z.N.call(this)};function Ju(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Ju,zt);function Wu(){In.call(this),this.status=1}T(Wu,In);function Gi(c){this.g=c}T(Gi,Xu),Gi.prototype.ra=function(){kt(this.g,"a")},Gi.prototype.qa=function(c){kt(this.g,new Ju(c))},Gi.prototype.pa=function(c){kt(this.g,new Wu)},Gi.prototype.oa=function(){kt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,_b=function(){return new Ir},yb=function(){return ya()},gb=ft,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,ph=ws,jo.COMPLETE="complete",pb=jo,Nu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Hl=Nu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,mb=$e}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",K0="4.9.3";class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let No="12.7.0";const na=new $h("@firebase/firestore");function ro(){return na.logLevel}function ue(r,...e){if(na.logLevel<=ke.DEBUG){const n=e.map(Lp);na.debug(`Firestore (${No}): ${r}`,...n)}}function pr(r,...e){if(na.logLevel<=ke.ERROR){const n=e.map(Lp);na.error(`Firestore (${No}): ${r}`,...n)}}function yo(r,...e){if(na.logLevel<=ke.WARN){const n=e.map(Lp);na.warn(`Firestore (${No}): ${r}`,...n)}}function Lp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vb(r,s,n)}function vb(r,e,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||vb(e,o,s)}function Se(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Eb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class $x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Xx{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new Eb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class Jx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Wx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Jx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function tp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Pm(o)===Pm(u)?Me(o,u):Pm(o)?1:-1}return Me(r.length,e.length)}const tN=55296,nN=57343;function Pm(r){const e=r.charCodeAt(0);return e>=tN&&e<=nN}function _o(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Y0="__name__";class ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=ki.isNumericId(e),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class et extends ki{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const iN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends ki{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return iN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new Yt([Y0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(et.fromString(e))}static fromName(e){return new me(et.fromString(e).popFirst(5))}static empty(){return new me(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new et(e.slice()))}}function Tb(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function rN(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $0(r){if(!me.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X0(r){if(me.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function bb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function oi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function vu(r,e){if(!bb(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const J0=-62135596800,W0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*W0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J0)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function sN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ls(o,me.empty(),e)}function aN(r){return new ls(r.readTime,r.key,iu)}class ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(be.min(),me.empty(),iu)}static max(){return new ls(be.max(),me.empty(),iu)}}function oN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}const lN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Do(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==lN)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function cN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;const jp=-1;function nf(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function hN(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const wb="";function fN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z0(e)),e=dN(r.get(n),e);return Z0(e)}function dN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case wb:n+="";break;default:n+=u}}return n}function Z0(r){return r+wb+""}function eE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Sb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class tE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ab("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const mN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=mN.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const Rb="server_timestamp",Ib="__type__",Cb="__previous_value__",xb="__local_write_time__";function zp(r){return(r?.mapValue?.fields||{})[Ib]?.stringValue===Rb}function rf(r){const e=r.mapValue.fields[Cb];return zp(e)?rf(e):e}function ru(r){const e=us(r.mapValue.fields[xb].timestampValue);return new it(e.seconds,e.nanos)}class pN{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Oh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const Nb="__type__",gN="__max__",ah={mapValue:{}},Db="__vector__",kh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zp(r)?4:_N(r)?9007199254740991:yN(r)?10:11:Ee(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=hs(r);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=us(o.timestampValue),m=us(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eE(h)!==eE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Bi(h[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function au(r,e){return(r.values||[]).find((n=>Bi(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=hs(r),s=hs(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return nE(r.timestampValue,e.timestampValue);case 4:return nE(ru(r),ru(e));case 5:return tp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=cs(u),p=cs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Me(m[g],p[g]);if(E!==0)return E}return Me(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Me(gt(u.latitude),gt(h.latitude));return m!==0?m:Me(gt(u.longitude),gt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return iE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[kh]?.arrayValue,E=p[kh]?.arrayValue,T=Me(g?.values?.length||0,E?.values?.length||0);return T!==0?T:iE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=tp(p[T],E[T]);if(A!==0)return A;const P=vo(m[p[T]],g[E[T]]);if(P!==0)return P}return Me(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function nE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=us(r),s=us(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function iE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function Eo(r){return np(r)}function np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${np(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function gh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+gh(e):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+gh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((u,h)=>{o+=u.length+gh(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function rE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ip(r){return!!r&&"integerValue"in r}function Bp(r){return!!r&&"arrayValue"in r}function sE(r){return!!r&&"nullValue"in r}function aE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yh(r){return!!r&&"mapValue"in r}function yN(r){return(r?.mapValue?.fields||{})[Nb]?.stringValue===Db}function $l(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=$l(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return{...r}}function _N(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gN}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=$l(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn($l(this.value))}}function Ob(r){const e=[];return gs(r.fields,((n,s)=>{const o=new Yt([n]);if(yh(s)){const u=Ob(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Sn(e)}class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function oE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function vN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class kb{}class xt extends kb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TN(e,n,s):n==="array-contains"?new SN(e,s):n==="in"?new AN(e,s):n==="not-in"?new RN(e,s):n==="array-contains-any"?new IN(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bN(e,s):new wN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends kb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return Mb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mb(r){return r.op==="and"}function Vb(r){return EN(r)&&Mb(r)}function EN(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function rp(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(Vb(r))return r.filters.map((e=>rp(e))).join(",");{const e=r.filters.map((n=>rp(n))).join(",");return`${r.op}(${e})`}}function Pb(r,e){return r instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Pb(h,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function Lb(r){return r instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Lb).join(" ,")+"}"})(r):"Filter"}class TN extends xt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class bN extends xt{constructor(e,n){super(e,"in",n),this.keys=Ub("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class wN extends xt{constructor(e,n){super(e,"not-in",n),this.keys=Ub("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ub(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class SN extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bp(n)&&au(n.arrayValue,this.value)}}class AN extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class RN extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class IN extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class CN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function uE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new CN(r,e,n,s,o,u,h)}function qp(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>rp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Eo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Eo(s))).join(",")),e.Te=n}return e.Te}function Hp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Pb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lE(r.startAt,e.startAt)&&lE(r.endAt,e.endAt)}function sp(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xN(r,e,n,s,o,u,h,m){return new Eu(r,e,n,s,o,u,h,m)}function Fp(r){return new Eu(r)}function cE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jb(r){return r.collectionGroup!==null}function Xl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vh(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Vh(Yt.keyField(),s))}return e.Ie}function Pi(r){const e=Se(r);return e.Ee||(e.Ee=NN(e,Xl(r))),e.Ee}function NN(r,e){if(r.limitType==="F")return uE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return uE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ap(r,e){const n=r.filters.concat([e]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ph(r,e,n){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function sf(r,e){return Hp(Pi(r),Pi(e))&&r.limitType===e.limitType}function zb(r){return`${qp(Pi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Lb(o))).join(", ")}]`),nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function af(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=oE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Xl(s),o)||s.endAt&&!(function(h,m,p){const g=oE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Xl(s),o))})(r,e)}function DN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bb(r){return(e,n)=>{let s=!1;for(const o of Xl(r)){const u=ON(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ON(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Sb(this.inner)}size(){return this.innerSize}}const kN=new ut(me.comparator);function gr(){return kN}const qb=new ut(me.comparator);function Fl(...r){let e=qb;for(const n of r)e=e.insert(n.key,n);return e}function Hb(r){let e=qb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Jl()}function Fb(){return Jl()}function Jl(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const MN=new ut(me.comparator),VN=new Vt(me.comparator);function Ve(...r){let e=VN;for(const n of r)e=e.add(n);return e}const PN=new Vt(Me);function LN(){return PN}function Gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function Gb(r){return{integerValue:""+r}}function Kb(r,e){return hN(e)?Gb(e):Gp(r,e)}class of{constructor(){this._=void 0}}function UN(r,e,n){return r instanceof Lh?(function(o,u){const h={fields:{[Ib]:{stringValue:Rb},[xb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=rf(u)),u&&(h.fields[Cb]=u),{mapValue:h}})(n,e):r instanceof ou?Yb(r,e):r instanceof lu?$b(r,e):(function(o,u){const h=Qb(o,u),m=hE(h)+hE(o.Ae);return ip(h)&&ip(o.Ae)?Gb(m):Gp(o.serializer,m)})(r,e)}function jN(r,e,n){return r instanceof ou?Yb(r,e):r instanceof lu?$b(r,e):n}function Qb(r,e){return r instanceof uu?(function(s){return ip(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Lh extends of{}class ou extends of{constructor(e){super(),this.elements=e}}function Yb(r,e){const n=Xb(e);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends of{constructor(e){super(),this.elements=e}}function $b(r,e){let n=Xb(e);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class uu extends of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hE(r){return gt(r.integerValue||r.doubleValue)}function Xb(r){return Bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zN{constructor(e,n){this.field=e,this.transform=n}}function BN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?_o(s.elements,o.elements,Bi):s instanceof uu&&o instanceof uu?Bi(s.Ae,o.Ae):s instanceof Lh&&o instanceof Lh})(r.transform,e.transform)}class qN{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class lf{}function Jb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kp(r.key,qn.none()):new Tu(r.key,r.data,qn.none());{const n=r.data,s=mn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ys(r.key,s,new Sn(o.toArray()),qn.none())}}function HN(r,e,n){r instanceof Tu?(function(o,u,h){const m=o.value.clone(),p=dE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=dE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Wb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Wl(r,e,n,s){return r instanceof Tu?(function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=u.value.clone(),E=mE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=mE(u.fieldTransforms,p,h),E=h.data;return E.setAll(Wb(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function FN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Qb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function fE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,((u,h)=>BN(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends lf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends lf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Wb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function dE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,jN(h,m,n[o]))}return s}function mE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,UN(u,h,e))}return s}class Kp extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GN extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Fb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Jb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,s)=>fE(n,s)))&&_o(this.baseMutations,e.baseMutations,((n,s)=>fE(n,s)))}}class Qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return MN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Qp(e,n,s,o)}}class QN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class YN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function $N(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function Zb(r){if(r===void 0)return pr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function XN(){return new TextEncoder}const JN=new ss([4294967295,4294967295],0);function pE(r){const e=XN().encode(r),n=new db;return n.update(e),new Uint8Array(n.digest())}function gE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(JN)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pE(e),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Yp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=pE(e),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(be.min(),o,new ut(Me),gr(),Ve())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,Ve(),Ve(),Ve())}}class vh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class ew{constructor(e,n){this.targetId=e,this.Ce=n}}class tw{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class yE{constructor(){this.ve=0,this.Fe=_E(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=_E()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WN{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=oh(),this.He=oh(),this.Ye=new ut(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(sp(u))if(s===0){const h=new me(u.path);this.et(n,h,Zt.newNoDocument(h,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=cs(s).toUint8Array()}catch(p){if(p instanceof Ab)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Yp(h,o,u)}catch(p){return yo(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&sp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new uf(e,n,this.Ye,this.je,s);return this.je=gr(),this.Je=oh(),this.He=oh(),this.Ye=new ut(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ut(me.comparator)}function _E(){return new ut(me.comparator)}const ZN={asc:"ASCENDING",desc:"DESCENDING"},eD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tD={and:"AND",or:"OR"};class nD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function iD(r,e){return Uh(r,e.toTimestamp())}function Li(r){return Fe(!!r,49232),be.fromTimestamp((function(n){const s=us(n);return new it(s.seconds,s.nanos)})(r))}function $p(r,e){return lp(r,e).canonicalString()}function lp(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function iw(r){const e=et.fromString(r);return Fe(lw(e),10190,{key:e.toString()}),e}function up(r,e){return $p(r.databaseId,e.path)}function Lm(r,e){const n=iw(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(sw(n))}function rw(r,e){return $p(r.databaseId,e)}function rD(r){const e=iw(r);return e.length===4?et.emptyPath():sw(e)}function cp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sw(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vE(r,e,n){return{name:up(r,e),fields:n.value.mapValue.fields}}function sD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?Z.UNKNOWN:Zb(g.code);return new le(E,g.message||"")})(h);n=new tw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lm(r,s.document.name),u=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):be.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new vh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lm(r,s.document),u=s.readTime?Li(s.readTime):be.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new vh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lm(r,s.document),u=s.removedTargetIds||[];n=new vh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new YN(o,u),m=s.targetId;n=new ew(m,h)}}return n}function aD(r,e){let n;if(e instanceof Tu)n={update:vE(r,e.key,e.value)};else if(e instanceof Kp)n={delete:up(r,e.key)};else if(e instanceof ys)n={update:vE(r,e.key,e.data),updateMask:pD(e.fieldMask)};else{if(!(e instanceof GN))return Ee(16599,{Vt:e.type});n={verify:up(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Lh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:iD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function oD(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Li(o.updateTime):Li(u);return h.isEqual(be.min())&&(h=Li(u)),new qN(h,o.transformResults||[])})(n,e)))):[]}function lD(r,e){return{documents:[rw(r,e.path)]}}function uD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rw(r,o);const u=(function(g){if(g.length!==0)return ow(li.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:ao(A.field),direction:fD(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=op(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function cD(r){let e=rD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=aw(T);return A instanceof li&&Vb(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(K){return new Vh(oo(K.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,nf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,P=T.values||[];return new Mh(P,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,P=T.values||[];return new Mh(P,A)})(n.endAt)),xN(e,o,h,u,m,"F",p,g)}function hD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(n.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>aw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function fD(r){return ZN[r]}function dD(r){return eD[r]}function mD(r){return tD[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return Yt.fromServerFormat(r.fieldPath)}function ow(r){return r instanceof xt?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(sE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(sE(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:dD(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>ow(o)));return s.length===1?s[0]:{compositeFilter:{op:mD(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function pD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ts{constructor(e,n,s,o,u=be.min(),h=be.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gD{constructor(e){this.yt=e}}function yD(r){const e=cD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ph(e,e.limit,"L"):e}class _D{constructor(){this.Cn=new vD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ls.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class vD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uw=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(uw,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}const TE="LruGarbageCollector",ED=1048576;function bE([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class TD{constructor(e){this.Ir=e,this.buffer=new Vt(bE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(TE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ue(TE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)}))}}class wD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(tf.ce);const s=new TD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(EE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ro()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function SD(r,e){return new wD(r,e)}class AD{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ID{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Wl(s.mutation,o,Sn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Fl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=gr();const h=Jl(),m=(function(){return Jl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ys)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new RD(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Jl();let o=new ut(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Fb();E.forEach((A=>{if(!u.has(A)){const P=Jb(n.get(A),s.get(A));P!==null&&T.set(A,P),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Xs());let m=iu,p=u;return h.next((g=>ne.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((E=>({batchId:m,changes:Hb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,A){return new Eu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))}));let m=Fl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Sn.empty(),it.now()),af(n,g)&&(m=m.insert(p,g))})),m}))}}class CD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:yD(o.bundledQuery),readTime:Li(o.readTime)}})(n)),ne.resolve()}}class xD{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new QN(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class ND{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Xp{constructor(){this.Qr=new Vt(jt.$r),this.Ur=new Vt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new et([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new et([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(jt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new KN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?jp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Me);return n.forEach((o=>{const u=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new jt(new me(u),0);let m=new Vt(Me);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class OD{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||oN(aN(E),s)<=0||(o.has(E.key)||af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new kD(this)}getSize(e){return ne.resolve(this.size)}}class kD extends AD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class MD{constructor(e){this.persistence=e,this.si=new ca((n=>qp(n)),Hp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Xp,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new To(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class cw{constructor(e,n){this.ui={},this.overlays={},this.ci=new tf(0),this.li=!1,this.li=!0,this.hi=new ND,this.referenceDelegate=e(this),this.Pi=new MD(this),this.indexManager=new _D,this.remoteDocumentCache=(function(o){return new OD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new gD(n),this.Ii=new CD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new DD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new VD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class VD extends uN{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new Xp,this.Vi=null}static mi(e){return new Jp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new ca((s=>fN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=SD(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(e,n.fromCache,s,o)}}class PD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fI()?8:cN(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new PD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ro()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(ro()<=ke.DEBUG&&ue("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):ne.resolve())}ys(e,n){if(cE(n))return ne.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ph(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Ph(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return cE(n)||o.isEqual(be.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(ro()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(e,h,n,sN(o,iu)).next((m=>m)))}))}Ds(e,n){let s=new Vt(Bb(e));return n.forEach(((o,u)=>{af(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ro()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(e,n,ls.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Zp="LocalStore",UD=3e8;class jD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Me),this.xs=new ca((u=>qp(u)),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ID(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zD(r,e,n,s){return new jD(r,e,n,s)}async function hw(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function BD(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let P=ne.resolve();return A.forEach((K=>{P=P.next((()=>E.getEntry(p,K))).next((Y=>{const q=g.docVersions.get(K);Fe(q!==null,48541),Y.version.compareTo(q)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function fw(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qD(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let P=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function(Y,q,te){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=UD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(A,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=gr(),g=Ve();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(HD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function HD(r,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=gr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function FD(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function GD(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function hp(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Oo(h))throw h;ue(Zp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function wE(r,e,n){const s=Se(r);let o=be.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Se(p),A=T.xs.get(E);return A!==void 0?ne.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,E)})(s,h,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Ve()))).next((m=>(KD(s,DN(e),m),{documents:m,Qs:u})))))}function KD(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class SE{constructor(){this.activeTargetIds=LN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QD{constructor(){this.Mo=new SE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YD{Oo(e){}shutdown(){}}const AE="ConnectivityMonitor";class RE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(AE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lh=null;function fp(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}const Um="RestConnection",$D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=fp(),m=this.zo(e,n.toUriEncodedString());ue(Um,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ro(g);return this.Jo(e,m,p,s,E).then((T=>(ue(Um,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw yo(Um,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=$D[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class JD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class WD extends XD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=fp();return new Promise(((m,p)=>{const g=new mb;g.setWithCredentials(!0),g.listenOnce(pb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const T=g.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case ph.TIMEOUT:ue(Jt,`RPC '${e}' ${h} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const A=g.getStatus();if(ue(Jt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const K=P?.error;if(K&&K.status&&K.message){const Y=(function(te){const J=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(J)>=0?J:Z.UNKNOWN})(K.status);p(new le(Y,K.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);ue(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=fp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=_b(),m=yb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let A=!1,P=!1;const K=new JD({Yo:q=>{P?ue(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(A||(ue(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),ue(Jt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),Y=(q,te,J)=>{q.listen(te,(ie=>{try{J(ie)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return Y(T,Hl.EventType.OPEN,(()=>{P||(ue(Jt,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),Y(T,Hl.EventType.CLOSE,(()=>{P||(P=!0,ue(Jt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(T))})),Y(T,Hl.EventType.ERROR,(q=>{P||(P=!0,yo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),K.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Hl.EventType.MESSAGE,(q=>{if(!P){const te=q.data[0];Fe(!!te,16349);const J=te,ie=J?.error||J[0]?.error;if(ie){ue(Jt,`RPC '${e}' stream ${o} received error:`,ie);const ge=ie.status;let _e=(function(R){const C=Ct[R];if(C!==void 0)return Zb(C)})(ge),oe=ie.message;_e===void 0&&(_e=Z.INTERNAL,oe="Unknown error status: "+ge+" with message "+ie.message),P=!0,K.a_(new le(_e,oe)),T.close()}else ue(Jt,`RPC '${e}' stream ${o} received:`,te),K.u_(te)}})),Y(m,gb.STAT_EVENT,(q=>{q.stat===ep.PROXY?ue(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===ep.NOPROXY&&ue(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function jm(){return typeof document<"u"?document:null}function cf(r){return new nD(r,!0)}class dw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const IE="PersistentStream";class mw{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(IE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(IE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZD extends mw{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Li(h.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=sp(p)?{documents:lD(u,p)}:{query:uD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=nw(u,h.resumeToken);const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=hD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class eO extends mw{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oD(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>aD(this.serializer,s)))};this.q_(n)}}class tO{}class nO extends tO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,lp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,lp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class rO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ha(this)&&(ue(ia,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await hf(g)})(this))}))})),this.Ra=new iO(s,o)}}async function hf(r){if(ha(r))for(const e of r.da)await e(!0)}async function wu(r){for(const e of r.da)await e(!1)}function pw(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ig(n)?ng(n):ko(n).O_()&&tg(n,e))}function eg(r,e){const n=Se(r),s=ko(n);n.Ia.delete(e),s.O_()&&gw(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function tg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).Y_(e)}function gw(r,e){r.Va.Ue(e),ko(r).Z_(e)}function ng(r){r.Va=new WN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.Ra.ua()}function ig(r){return ha(r)&&!ko(r).x_()&&r.Ia.size>0}function ha(r){return Se(r).Ea.size===0}function yw(r){r.Va=void 0}async function sO(r){r.Ra.set("Online")}async function aO(r){r.Ia.forEach(((e,n)=>{tg(r,e)}))}async function oO(r,e){yw(r),ig(r)?(r.Ra.ha(e),ng(r)):r.Ra.set("Unknown")}async function lO(r,e,n){if(r.Ra.set("Online"),e instanceof tw&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ue(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof vh?r.Va.Ze(e):e instanceof ew?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await fw(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),gw(u,p);const T=new ts(E.target,p,g,E.sequenceNumber);tg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ue(ia,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,n){if(!Oo(e))throw e;r.Ea.add(1),await wu(r),r.Ra.set("Offline"),n||(n=()=>fw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await hf(r)}))}function _w(r,e){return e().catch((n=>zh(r,n,e)))}async function ff(r){const e=Se(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jp;for(;uO(e);)try{const o=await FD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,cO(e,o)}catch(o){await zh(e,o)}vw(e)&&Ew(e)}function uO(r){return ha(r)&&r.Ta.length<10}function cO(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function vw(r){return ha(r)&&!fs(r).x_()&&r.Ta.length>0}function Ew(r){fs(r).start()}async function hO(r){fs(r).ra()}async function fO(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function dO(r,e,n){const s=r.Ta.shift(),o=Qp.from(s,e,n);await _w(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function mO(r,e){e&&fs(r).X_&&await(async function(s,o){if((function(h){return $N(h)&&h!==Z.ABORTED})(o.code)){const u=s.Ta.shift();fs(s).B_(),await _w(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(s)}})(r,e),vw(r)&&Ew(r)}async function CE(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(ia,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function pO(r,e){const n=Se(r);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function ko(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new ZD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:sO.bind(null,r),t_:aO.bind(null,r),r_:oO.bind(null,r),H_:lO.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ig(r)?ng(r):r.Ra.set("Unknown")):(await r.ma.stop(),yw(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new eO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:hO.bind(null,r),r_:mO.bind(null,r),ta:fO.bind(null,r),na:dO.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ff(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new rg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Oo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class xE{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new bo(e,n,fo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class gO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yO{constructor(){this.queries=NE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=NE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function NE(){return new ca((r=>zb(r)),sf)}async function Tw(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new gO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=sg(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ag(n)}async function bw(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function _O(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ag(n)}function vO(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ag(r){r.Ca.forEach((e=>{e.next()}))}var dp,DE;(DE=dp||(dp={})).Ma="default",DE.Cache="cache";class ww{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class Sw{constructor(e){this.key=e}}class Aw{constructor(e){this.key=e}}class EO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=Bb(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new xE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),P=af(this.query,T)?T:null,K=!!A&&this.mutatedKeys.has(A.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;A&&P?A.data.isEqual(P.data)?K!==Y&&(s.track({type:3,doc:P}),q=!0):this.su(A,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!A&&P?(s.track({type:0,doc:P}),q=!0):A&&!P&&(s.track({type:1,doc:A}),q=!0,(p||g)&&(m=!0)),q&&(P?(h=h.add(P),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(P,K){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return Y(P)-Y(K)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new bo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Aw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Sw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class TO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bO{constructor(e){this.key=e,this.hu=!1}}class wO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ca((m=>zb(m)),sf),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new Xp,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(r,e,n=!0){const s=Dw(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Rw(s,e,n,!0),o}async function AO(r,e){const n=Dw(r);await Rw(n,e,!0,!1)}async function Rw(r,e,n,s){const o=await GD(r.localStore,Pi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await RO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&pw(r.remoteStore,o),m}async function RO(r,e,n,s,o){r.pu=(T,A,P)=>(async function(Y,q,te,J){let ie=q.view.ru(te);ie.Cs&&(ie=await wE(Y.localStore,q.query,!1).then((({documents:I})=>q.view.ru(I,ie))));const ge=J&&J.targetChanges.get(q.targetId),_e=J&&J.targetMismatches.get(q.targetId)!=null,oe=q.view.applyChanges(ie,Y.isPrimaryClient,ge,_e);return kE(Y,q.targetId,oe.au),oe.snapshot})(r,T,A,P);const u=await wE(r.localStore,e,!0),h=new EO(e,u.Qs),m=h.ru(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);kE(r,n,g.au);const E=new TO(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function IO(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!sf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),mp(s,o.targetId)})).catch(Do)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function CO(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function xO(r,e,n){const s=PO(r);try{const o=await(function(h,m){const p=Se(h),g=it.now(),E=m.reduce(((P,K)=>P.add(K.key)),Ve());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let K=gr(),Y=Ve();return p.Ns.getEntries(P,E).next((q=>{K=q,K.forEach(((te,J)=>{J.isValidDocument()||(Y=Y.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,K))).next((q=>{T=q;const te=[];for(const J of m){const ie=FN(J,T.get(J.key).overlayedDocument);ie!=null&&te.push(new ys(J.key,ie,Ob(ie.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,te,m)})).next((q=>{A=q;const te=q.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(P,q.batchId,te)}))})).then((()=>({batchId:A.batchId,changes:Hb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(Me)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await ff(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function Iw(r,e){const n=Se(r);try{const s=await qD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Su(n,s,e)}catch(s){await Do(s)}}function OE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&ag(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function NO(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(me.comparator);h=h.insert(u,Zt.newNoDocument(u,be.min()));const m=Ve().add(u),p=new uf(be.min(),new Map,new ut(Me),h,m);await Iw(s,p),s.du=s.du.remove(u),s.Au.delete(e),lg(s)}else await hp(s.localStore,e,!1).then((()=>mp(s,e,n))).catch(Do)}async function DO(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await BD(n.localStore,e);xw(n,s,null),Cw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Do(o)}}async function OO(r,e,n){const s=Se(r);try{const o=await(function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);xw(s,e,n),Cw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await Do(o)}}function Cw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function xw(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function mp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Nw(r,s)}))}function Nw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(eg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),lg(r))}function kE(r,e,n){for(const s of n)s instanceof Sw?(r.Ru.addReference(s.key,e),kO(r,s)):s instanceof Aw?(ue(og,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Nw(r,s.key)):Ee(19791,{wu:s})}function kO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(og,"New document in limbo: "+n),r.Eu.add(s),lg(r))}function lg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(et.fromString(e)),s=r.fu.next();r.Au.set(s,new bO(n)),r.du=r.du.insert(n,s),pw(r.remoteStore,new ts(Pi(Fp(n.path)),s,"TargetPurposeLimboResolution",tf.ce))}}async function Su(r,e,n){const s=Se(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Wp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(A=>ne.forEach(A.Es,(P=>E.persistence.referenceDelegate.addReference(T,A.targetId,P))).next((()=>ne.forEach(A.ds,(P=>E.persistence.referenceDelegate.removeReference(T,A.targetId,P)))))))))}catch(T){if(!Oo(T))throw T;ue(Zp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const P=E.Ms.get(A),K=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(A,Y)}}})(s.localStore,u))}async function MO(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(og,"User change. New user:",e.toKey());const s=await hw(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function VO(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Dw(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Iw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NO.bind(null,e),e.Pu.H_=_O.bind(null,e.eventManager),e.Pu.yu=vO.bind(null,e.eventManager),e}function PO(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zD(this.persistence,new LD,e.initialUser,this.serializer)}Cu(e){return new cw(Jp.mi,this.serializer)}Du(e){return new QD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class LO extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new cw((s=>jh.mi(s,n)),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await pO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yO})()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),s=(function(u){return new WD(u)})(e.databaseInfo);return(function(u,h,m,p){return new nO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new rO(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>OE(this.syncEngine,n,0)),(function(){return RE.v()?new RE:new YD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new wO(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);ue(ia,"RemoteStore shutting down."),s.Ea.add(5),await wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pp.provider={build:()=>new pp};class Ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ds="FirestoreClient";class UO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ue(ds,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ue(ds,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await hw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ME(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jO(r);ue(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>CE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>CE(e.remoteStore,o))),r._onlineComponents=e}async function jO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(ds,"Using user provided OfflineComponentProvider");try{await zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await zm(r,new Bh)}}else ue(ds,"Using default OfflineComponentProvider"),await zm(r,new LO(void 0));return r._offlineComponents}async function kw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(ds,"Using user provided OnlineComponentProvider"),await ME(r,r._uninitializedComponentsProvider._online)):(ue(ds,"Using default OnlineComponentProvider"),await ME(r,new pp))),r._onlineComponents}function zO(r){return kw(r).then((e=>e.syncEngine))}async function Mw(r){const e=await kw(r),n=e.eventManager;return n.onListen=SO.bind(null,e.syncEngine),n.onUnlisten=IO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CO.bind(null,e.syncEngine),n}function BO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Ow({next:A=>{E.Nu(),h.enqueueAndForget((()=>bw(u,T)));const P=A.docs.has(m);!P&&A.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new ww(Fp(m.path),E,{includeMetadataChanges:!0,qa:!0});return Tw(u,T)})(await Mw(r),r.asyncQueue,e,n,s))),s.promise}function qO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new Ow({next:A=>{E.Nu(),h.enqueueAndForget((()=>bw(u,T))),A.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new ww(m,E,{includeMetadataChanges:!0,qa:!0});return Tw(u,T)})(await Mw(r),r.asyncQueue,e,n,s))),s.promise}function Vw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const VE=new Map;const Pw="firestore.googleapis.com",PE=!0;class LE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pw,this.ssl=PE}else this.host=e.host,this.ssl=e.ssl??PE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ED)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Yx;switch(s.type){case"firstParty":return new Wx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=VE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),VE.delete(n),s.terminate())})(this),Promise.resolve()}}function HO(r,e,n,s={}){r=oi(r,df);const o=Ro(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(wT(`https://${m}`),ST("Firestore",!0)),u.host!==Pw&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!os(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=rI(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}r._authCredentials=new $x(new Eb(g,E))}}class fa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,yt._jsonSchema))return new yt(e,s||null,new me(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class as extends fa{constructor(e,n,s){super(e,n,Fp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new me(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function cu(r,e,...n){if(r=_t(r),Tb("collection","path",e),r instanceof df){const s=et.fromString(e,...n);return X0(s),new as(r,null,s)}{if(!(r instanceof yt||r instanceof as))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return X0(s),new as(r.firestore,null,s)}}function Ws(r,e,...n){if(r=_t(r),arguments.length===1&&(e=Up.newId()),Tb("doc","path",e),r instanceof df){const s=et.fromString(e,...n);return $0(s),new yt(r,null,new me(s))}{if(!(r instanceof yt||r instanceof as))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return $0(s),new yt(r.firestore,r instanceof as?r.converter:null,new me(s))}}const UE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dw(this,"async_queue_retry"),this._c=()=>{const s=jm();s&&ue(UE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;ue(UE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",zE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:zE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class da extends df{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new jE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function FO(r,e){const n=typeof r=="object"?r:Cp(),s=typeof r=="string"?r:Oh,o=la(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nI("firestore");u&&HO(o,...u)}return o}function ug(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GO(r),r._firestoreClient}function GO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new pN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Vw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new UO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Nt("string",zn._jsonSchemaVersion),bytes:Nt("string")};class mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pf{constructor(e){this._methodName=e}}class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(vu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Nt("string",Ui._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ji(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Nt("string",ji._jsonSchemaVersion),vectorValues:Nt("object")};const KO=/^__.*__$/;class QO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class Lw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class cg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Uw(this.Ac)&&KO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cf(e)}Cc(e,n,s,o=!1){return new cg({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gf(r){const e=r._freezeSettings(),n=cf(r._databaseId);return new YO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function jw(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);fg("Data must be an object, but it was:",h,s);const m=zw(s,h);let p,g;if(u.merge)p=new Sn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=gp(e,T,n);if(!h.contains(A))throw new le(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);qw(E,A)||E.push(A)}p=new Sn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new QO(new mn(m),p,g)}class yf extends pf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}class hg extends pf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new uu(e.serializer,Kb(e.serializer,this.Fc));return new zN(e.path,n)}isEqual(e){return e instanceof hg&&this.Fc===e.Fc}}function $O(r,e,n,s){const o=r.Cc(1,e,n);fg("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();gs(s,((p,g)=>{const E=dg(e,p,n);g=_t(g);const T=o.yc(E);if(g instanceof yf)u.push(E);else{const A=Au(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new Sn(u);return new Lw(h,m,o.fieldTransforms)}function XO(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[gp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(gp(e,u[A])),p.push(u[A+1]);const g=[],E=mn.empty();for(let A=m.length-1;A>=0;--A)if(!qw(g,m[A])){const P=m[A];let K=p[A];K=_t(K);const Y=h.yc(P);if(K instanceof yf)g.push(P);else{const q=Au(K,Y);q!=null&&(g.push(P),E.set(P,q))}}const T=new Sn(g);return new Lw(E,T,h.fieldTransforms)}function JO(r,e,n,s=!1){return Au(n,r.Cc(s?4:3,e))}function Au(r,e){if(Bw(r=_t(r)))return fg("Unsupported field value:",e,r),zw(r,e);if(r instanceof pf)return(function(s,o){if(!Uw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Au(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Kb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:nw(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return(function(h,m){return{mapValue:{fields:{[Nb]:{stringValue:Db},[kh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${ef(s)}`)})(r,e)}function zw(r,e){const n={};return Sb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const u=Au(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Bw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ui||r instanceof zn||r instanceof yt||r instanceof pf||r instanceof ji)}function fg(r,e,n){if(!Bw(n)||!bb(n)){const s=ef(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function gp(r,e,n){if((e=_t(e))instanceof mf)return e._internalPath;if(typeof e=="string")return dg(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const WO=new RegExp("[~\\*/\\[\\]]");function dg(r,e,n){if(e.search(WO)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new mf(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function qw(r,e){return r.some((n=>n.isEqual(e)))}class Hw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZO extends Hw{data(){return super.data()}}function mg(r,e){return typeof e=="string"?dg(r,e):e instanceof mf?e._internalPath:e._delegate._internalPath}function ek(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class Fw extends pg{}function tk(r,e,...n){let s=[];e instanceof pg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof gg)).length,m=u.filter((p=>p instanceof _f)).length;if(h>1||h>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class _f extends Fw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _f(e,n,s)}_apply(e){const n=this._parse(e);return Gw(e._query,n),new fa(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=gf(e.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){HE(T,E);const K=[];for(const Y of T)K.push(qE(p,u,Y));A={arrayValue:{values:K}}}else A=qE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||HE(T,E),A=JO(m,h,T,E==="in"||E==="not-in");return xt.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function BE(r,e,n){const s=e,o=mg("where",r);return _f._create(o,s,n)}class gg extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Gw(h,p),h=ap(h,p)})(e._query,n),new fa(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends Fw{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new yg(e,n,s)}_apply(e){return new fa(e.firestore,e.converter,Ph(e._query,this._limit,this._limitType))}}function nk(r){return yg._create("limit",r,"F")}function qE(r,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jb(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!me.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rE(r,new me(s))}if(n instanceof yt)return rE(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function HE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gw(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ik{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new ji(n)}convertGeoPoint(e){return new Ui(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=us(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(lw(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Kw(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends Hw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(mg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Nt("string",Zs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Eh extends Zs{data(e={}){return super.data(e)}}class mo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Eh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:rk(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function _g(r){r=oi(r,yt);const e=oi(r.firestore,da);return BO(ug(e),r._key).then((n=>ak(e,r,n)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Nt("string",mo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Qw extends ik{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function vg(r){r=oi(r,fa);const e=oi(r.firestore,da),n=ug(e),s=new Qw(e);return ek(r._query),qO(n,r._query).then((o=>new mo(e,s,r,o)))}function sk(r,e,n){r=oi(r,yt);const s=oi(r.firestore,da),o=Kw(r.converter,e);return vf(s,[jw(gf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qn.none())])}function Eg(r,e,n,...s){r=oi(r,yt);const o=oi(r.firestore,da),u=gf(o);let h;return h=typeof(e=_t(e))=="string"||e instanceof mf?XO(u,"updateDoc",r._key,e,n,s):$O(u,"updateDoc",r._key,e),vf(o,[h.toMutation(r._key,qn.exists(!0))])}function Yw(r){return vf(oi(r.firestore,da),[new Kp(r._key,qn.none())])}function $w(r,e){const n=oi(r.firestore,da),s=Ws(r),o=Kw(r.converter,e);return vf(n,[jw(gf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then((()=>s))}function vf(r,e){return(function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>xO(await zO(s),o,u))),u.promise})(ug(r),e)}function ak(r,e,n){const s=n.docs.get(e._key),o=new Qw(r);return new Zs(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}function yp(r){return new hg("increment",r)}(function(e,n=!0){(function(o){No=o})(Io),zi(new si("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new da(new Xx(s.getProvider("auth-internal")),new Zx(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Bn(G0,K0,e),Bn(G0,K0,"esm2020")})();const Xw="@firebase/installations",Tg="0.6.19";const Jw=1e4,Ww=`w:${Tg}`,Zw="FIS_v2",ok="https://firebaseinstallations.googleapis.com/v1",lk=3600*1e3,uk="installations",ck="Installations";const hk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ra=new oa(uk,ck,hk);function eS(r){return r instanceof ci&&r.code.includes("request-failed")}function tS({projectId:r}){return`${ok}/projects/${r}/installations`}function nS(r){return{token:r.token,requestStatus:2,expiresIn:dk(r.expiresIn),creationTime:Date.now()}}async function iS(r,e){const s=(await e.json()).error;return ra.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function rS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function fk(r,{refreshToken:e}){const n=rS(r);return n.append("Authorization",mk(e)),n}async function sS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function dk(r){return Number(r.replace("s","000"))}function mk(r){return`${Zw} ${r}`}async function pk({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=tS(r),o=rS(r),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:Zw,appId:r.appId,sdkVersion:Ww},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await sS(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:nS(g.authToken)}}else throw await iS("Create Installation",p)}function aS(r){return new Promise(e=>{setTimeout(e,r)})}function gk(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const yk=/^[cdef][\w-]{21}$/,_p="";function _k(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=vk(r);return yk.test(n)?n:_p}catch{return _p}}function vk(r){return gk(r).substr(0,22)}function Ef(r){return`${r.appName}!${r.appId}`}const oS=new Map;function lS(r,e){const n=Ef(r);uS(n,e),Ek(n,e)}function uS(r,e){const n=oS.get(r);if(n)for(const s of n)s(e)}function Ek(r,e){const n=Tk();n&&n.postMessage({key:r,fid:e}),bk()}let Js=null;function Tk(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=r=>{uS(r.data.key,r.data.fid)}),Js}function bk(){oS.size===0&&Js&&(Js.close(),Js=null)}const wk="firebase-installations-database",Sk=1,sa="firebase-installations-store";let Bm=null;function bg(){return Bm||(Bm=NT(wk,Sk,{upgrade:(r,e)=>{e===0&&r.createObjectStore(sa)}})),Bm}async function Hh(r,e){const n=Ef(r),o=(await bg()).transaction(sa,"readwrite"),u=o.objectStore(sa),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&lS(r,e.fid),e}async function cS(r){const e=Ef(r),s=(await bg()).transaction(sa,"readwrite");await s.objectStore(sa).delete(e),await s.done}async function Tf(r,e){const n=Ef(r),o=(await bg()).transaction(sa,"readwrite"),u=o.objectStore(sa),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&lS(r,m.fid),m}async function wg(r){let e;const n=await Tf(r.appConfig,s=>{const o=Ak(s),u=Rk(r,o);return e=u.registrationPromise,u.installationEntry});return n.fid===_p?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Ak(r){const e=r||{fid:_k(),registrationStatus:0};return hS(e)}function Rk(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ra.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Ik(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ck(r)}:{installationEntry:e}}async function Ik(r,e){try{const n=await pk(r,e);return Hh(r.appConfig,n)}catch(n){throw eS(n)&&n.customData.serverCode===409?await cS(r.appConfig):await Hh(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ck(r){let e=await FE(r.appConfig);for(;e.registrationStatus===1;)await aS(100),e=await FE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await wg(r);return s||n}return e}function FE(r){return Tf(r,e=>{if(!e)throw ra.create("installation-not-found");return hS(e)})}function hS(r){return xk(r)?{fid:r.fid,registrationStatus:0}:r}function xk(r){return r.registrationStatus===1&&r.registrationTime+Jw<Date.now()}async function Nk({appConfig:r,heartbeatServiceProvider:e},n){const s=Dk(r,n),o=fk(r,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Ww,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await sS(()=>fetch(s,m));if(p.ok){const g=await p.json();return nS(g)}else throw await iS("Generate Auth Token",p)}function Dk(r,{fid:e}){return`${tS(r)}/${e}/authTokens:generate`}async function Sg(r,e=!1){let n;const s=await Tf(r.appConfig,u=>{if(!fS(u))throw ra.create("not-registered");const h=u.authToken;if(!e&&Mk(h))return u;if(h.requestStatus===1)return n=Ok(r,e),u;{if(!navigator.onLine)throw ra.create("app-offline");const m=Pk(u);return n=kk(r,m),m}});return n?await n:s.authToken}async function Ok(r,e){let n=await GE(r.appConfig);for(;n.authToken.requestStatus===1;)await aS(100),n=await GE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Sg(r,e):s}function GE(r){return Tf(r,e=>{if(!fS(e))throw ra.create("not-registered");const n=e.authToken;return Lk(n)?{...e,authToken:{requestStatus:0}}:e})}async function kk(r,e){try{const n=await Nk(r,e),s={...e,authToken:n};return await Hh(r.appConfig,s),n}catch(n){if(eS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await cS(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Hh(r.appConfig,s)}throw n}}function fS(r){return r!==void 0&&r.registrationStatus===2}function Mk(r){return r.requestStatus===2&&!Vk(r)}function Vk(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+lk}function Pk(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function Lk(r){return r.requestStatus===1&&r.requestTime+Jw<Date.now()}async function Uk(r){const e=r,{installationEntry:n,registrationPromise:s}=await wg(e);return s?s.catch(console.error):Sg(e).catch(console.error),n.fid}async function jk(r,e=!1){const n=r;return await zk(n),(await Sg(n,e)).token}async function zk(r){const{registrationPromise:e}=await wg(r);e&&await e}function Bk(r){if(!r||!r.options)throw qm("App Configuration");if(!r.name)throw qm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw qm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function qm(r){return ra.create("missing-app-config-values",{valueName:r})}const dS="installations",qk="installations-internal",Hk=r=>{const e=r.getProvider("app").getImmediate(),n=Bk(e),s=la(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Fk=r=>{const e=r.getProvider("app").getImmediate(),n=la(e,dS).getImmediate();return{getId:()=>Uk(n),getToken:o=>jk(n,o)}};function Gk(){zi(new si(dS,Hk,"PUBLIC")),zi(new si(qk,Fk,"PRIVATE"))}Gk();Bn(Xw,Tg);Bn(Xw,Tg,"esm2020");const Fh="analytics",Kk="firebase_id",Qk="origin",Yk=60*1e3,$k="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ag="https://www.googletagmanager.com/gtag/js";const sn=new $h("@firebase/analytics");const Xk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new oa("analytics","Analytics",Xk);function Jk(r){if(!r.startsWith(Ag)){const e=An.create("invalid-gtag-resource",{gtagURL:r});return sn.warn(e.message),""}return r}function mS(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function Wk(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function Zk(r,e){const n=Wk("firebase-js-sdk-policy",{createScriptURL:Jk}),s=document.createElement("script"),o=`${Ag}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function e4(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function t4(r,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await mS(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){sn.error(m)}r("config",o,u)}async function n4(r,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await mS(n);for(const p of h){const g=m.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),r("event",s,o||{})}catch(u){sn.error(u)}}function i4(r,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await n4(r,e,n,m,p)}else if(u==="config"){const[m,p]=h;await t4(r,e,n,s,m,p)}else if(u==="consent"){const[m,p]=h;r("consent",m,p)}else if(u==="get"){const[m,p,g]=h;r("get",m,p,g)}else if(u==="set"){const[m]=h;r("set",m)}else r(u,...h)}catch(m){sn.error(m)}}return o}function r4(r,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=i4(u,r,e,n),{gtagCore:u,wrappedGtag:window[o]}}function s4(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ag)&&n.src.includes(r))return n;return null}const a4=30,o4=1e3;class l4{constructor(e={},n=o4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pS=new l4;function u4(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function c4(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:u4(n)},o=$k.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let h="";try{const m=await u.json();m.error?.message&&(h=m.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function h4(r,e=pS,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw An.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new m4;return setTimeout(async()=>{m.abort()},Yk),gS({appId:s,apiKey:o,measurementId:u},h,m,e)}async function gS(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=pS){const{appId:u,measurementId:h}=r;try{await f4(s,e)}catch(m){if(h)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:h};throw m}try{const m=await c4(r);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!d4(p)){if(o.deleteThrottleMetadata(u),h)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:h};throw m}const g=Number(p?.customData?.httpStatus)===503?p0(n,o.intervalMillis,a4):p0(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,E),sn.debug(`Calling attemptFetch again in ${g} millis`),gS(r,E,s,o)}}function f4(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d4(r){if(!(r instanceof ci)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class m4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function p4(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await e,h={...s,send_to:u};r("event",n,h)}}async function g4(r,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function y4(){if(RT())try{await IT()}catch(r){return sn.warn(An.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return sn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _4(r,e,n,s,o,u,h){const m=h4(r);m.then(A=>{n[A.measurementId]=A.appId,r.options.measurementId&&A.measurementId!==r.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>sn.error(A)),e.push(m);const p=y4().then(A=>{if(A)return s.getId()}),[g,E]=await Promise.all([m,p]);s4(u)||Zk(u,g.measurementId),o("js",new Date);const T=h?.config??{};return T[Qk]="firebase",T.update=!0,E!=null&&(T[Kk]=E),o("config",g.measurementId,T),g.measurementId}class v4{constructor(e){this.app=e}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},KE=[];const QE={};let Hm="dataLayer",E4="gtag",YE,Rg,$E=!1;function T4(){const r=[];if(AT()&&r.push("This is a browser extension environment."),dI()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:e});sn.warn(n.message)}}function b4(r,e,n){T4();const s=r.options.appId;if(!s)throw An.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(po[s]!=null)throw An.create("already-exists",{id:s});if(!$E){e4(Hm);const{wrappedGtag:u,gtagCore:h}=r4(po,KE,QE,Hm,E4);Rg=u,YE=h,$E=!0}return po[s]=_4(r,KE,QE,e,YE,Hm,n),new v4(r)}function w4(r=Cp()){r=_t(r);const e=la(r,Fh);return e.isInitialized()?e.getImmediate():S4(r)}function S4(r,e={}){const n=la(r,Fh);if(n.isInitialized()){const o=n.getImmediate();if(os(e,n.getOptions()))return o;throw An.create("already-initialized")}return n.initialize({options:e})}function A4(r,e,n){r=_t(r),g4(Rg,po[r.app.options.appId],e,n).catch(s=>sn.error(s))}function R4(r,e,n,s){r=_t(r),p4(Rg,po[r.app.options.appId],e,n,s).catch(o=>sn.error(o))}const XE="@firebase/analytics",JE="0.10.19";function I4(){zi(new si(Fh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return b4(s,o,n)},"PUBLIC")),zi(new si("analytics-internal",r,"PRIVATE")),Bn(XE,JE),Bn(XE,JE,"esm2020");function r(e){try{const n=e.getProvider(Fh).getImmediate();return{logEvent:(s,o,u)=>R4(n,s,o,u),setUserProperties:(s,o)=>A4(n,s,o)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}I4();const C4={apiKey:"AIzaSyAsMx0eNtj5p1bfKeRFvPXR6-EDkNosOWA",authDomain:"portfolio-bed2b.firebaseapp.com",projectId:"portfolio-bed2b",storageBucket:"portfolio-bed2b.firebasestorage.app",messagingSenderId:"406886920408",appId:"1:406886920408:web:16031877bfc7805215e7ad",measurementId:"G-DF28S28B4W"},Ig=DT(C4),hu=Kx(Ig),ii=FO(Ig);let x4;try{x4=w4(Ig)}catch{console.log("Analytics not supported in this environment")}function N4(){const[r,e]=U.useState("ar");U.useEffect(()=>{document.documentElement.lang=r,document.documentElement.dir=r==="ar"?"rtl":"ltr"},[r]),U.useEffect(()=>{(async()=>{const o=sessionStorage.getItem("hasVisitedSession"),u=localStorage.getItem("visitorId");try{const h=Ws(ii,"analytics","site_stats"),m=await _g(h);let p={};if(o||(p.visits=yp(1),sessionStorage.setItem("hasVisitedSession","true")),!u){const g=crypto.randomUUID();localStorage.setItem("visitorId",g),p.uniqueVisitors=yp(1)}Object.keys(p).length>0&&(m.exists()?await Eg(h,p):await sk(h,{visits:p.visits?1:0,uniqueVisitors:p.uniqueVisitors?1:0}))}catch(h){console.error("Error tracking visit:",h)}})()},[]);const n=aa[r];return S.jsxs("div",{className:`min-h-screen ${r==="ar"?"font-arabic":"font-english"} bg-white dark:bg-[#0a0a0a] text-black dark:text-white selection:bg-black selection:text-white dark:selection:bg-white dark:selection:text-black pt-20 transition-colors duration-300`,children:[S.jsx(mu,{lang:r,setLang:e}),S.jsxs("main",{children:[S.jsx(GR,{lang:r}),S.jsx(KR,{lang:r}),S.jsx(QR,{lang:r})]}),S.jsxs("footer",{className:"py-12 text-center text-gray-400 dark:text-gray-600 text-sm uppercase tracking-widest border-t border-gray-100 dark:border-white/5",children:[S.jsx("p",{className:"mb-4",children:n.footer}),S.jsxs("div",{className:"flex justify-center gap-6 text-[10px] sm:text-xs",children:[S.jsx(ea,{to:"/privacy",className:"hover:text-black dark:hover:text-white transition-colors",children:n.privacyLinks.privacy}),S.jsx(ea,{to:"/terms",className:"hover:text-black dark:hover:text-white transition-colors",children:n.privacyLinks.terms})]})]})]})}class Ru{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const D4=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},Qt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:D4()},Cg=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},O4=(r,e="https://api.emailjs.com")=>{if(!r)return;const n=Cg(r);Qt.publicKey=n.publicKey,Qt.blockHeadless=n.blockHeadless,Qt.storageProvider=n.storageProvider,Qt.blockList=n.blockList,Qt.limitRate=n.limitRate,Qt.origin=n.origin||e},yS=async(r,e,n={})=>{const s=await fetch(Qt.origin+r,{method:"POST",headers:n,body:e}),o=await s.text(),u=new Ru(s.status,o);if(s.ok)return u;throw u},_S=(r,e,n)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},k4=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},vS=r=>r.webdriver||!r.languages||r.languages.length===0,ES=()=>new Ru(451,"Unavailable For Headless Browser"),M4=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},V4=r=>!r.list?.length||!r.watchVariable,P4=(r,e)=>r instanceof FormData?r.get(e):r[e],TS=(r,e)=>{if(V4(r))return!1;M4(r.list,r.watchVariable);const n=P4(e,r.watchVariable);return typeof n!="string"?!1:r.list.includes(n)},bS=()=>new Ru(403,"Forbidden"),L4=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},U4=async(r,e,n)=>{const s=Number(await n.get(r)||0);return e-Date.now()+s},wS=async(r,e,n)=>{if(!e.throttle||!n)return!1;L4(e.throttle,e.id);const s=e.id||r;return await U4(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},SS=()=>new Ru(429,"Too Many Requests"),j4=async(r,e,n,s)=>{const o=Cg(s),u=o.publicKey||Qt.publicKey,h=o.blockHeadless||Qt.blockHeadless,m=o.storageProvider||Qt.storageProvider,p={...Qt.blockList,...o.blockList},g={...Qt.limitRate,...o.limitRate};return h&&vS(navigator)?Promise.reject(ES()):(_S(u,r,e),k4(n),n&&TS(p,n)?Promise.reject(bS()):await wS(location.pathname,g,m)?Promise.reject(SS()):yS("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:u,service_id:r,template_id:e,template_params:n}),{"Content-type":"application/json"}))},z4=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},B4=r=>typeof r=="string"?document.querySelector(r):r,q4=async(r,e,n,s)=>{const o=Cg(s),u=o.publicKey||Qt.publicKey,h=o.blockHeadless||Qt.blockHeadless,m=Qt.storageProvider||o.storageProvider,p={...Qt.blockList,...o.blockList},g={...Qt.limitRate,...o.limitRate};if(h&&vS(navigator))return Promise.reject(ES());const E=B4(n);_S(u,r,e),z4(E);const T=new FormData(E);return TS(p,T)?Promise.reject(bS()):await wS(location.pathname,g,m)?Promise.reject(SS()):(T.append("lib_version","4.4.1"),T.append("service_id",r),T.append("template_id",e),T.append("user_id",u),yS("/api/v1.0/email/send-form",T))},H4={init:O4,send:j4,sendForm:q4,EmailJSResponseStatus:Ru};function F4(){const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(!1),[h,m]=U.useState(""),[p,g]=U.useState(!1),[E,T]=U.useState(""),A=Kh(),P=()=>Math.floor(1e5+Math.random()*9e5).toString(),K=async Y=>{Y.preventDefault(),g(!0),m("");try{T("verifying"),await D2(hu,r,n),T("generating");const q=P(),te=async()=>{await $w(cu(ii,"otps"),{email:r,code:q,createdAt:new Date})},J=ie=>new Promise((ge,_e)=>setTimeout(()=>_e(new Error("timeout")),ie));try{await Promise.race([te(),J(1e4)]),T("sending"),await H4.send("service_010hqp8","template_lfkek8r",{to_email:r,otp_code:q},"user_yvRkJn8pC4MS00L30KPJa"),window.sessionStorage.setItem("lastOtp",q),T("redirecting"),A("/verify-otp")}catch(ie){console.error("CRITICAL MFA FAILURE:",ie);const ge=ie.text||ie.message||JSON.stringify(ie);m(`Security failure: ${ge}`)}}catch(q){console.error("CRITICAL AUTH FAILURE:",q),q.code==="auth/invalid-credential"?m("Invalid email or password."):m(`Login error: ${q.message}`)}finally{g(!1),T("")}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-[#060606] transition-colors duration-300 p-6",children:S.jsxs("div",{className:"max-w-[440px] w-full bg-white dark:bg-zinc-900 p-10 rounded-[40px] shadow-2xl shadow-black/5 dark:shadow-none border border-gray-100 dark:border-zinc-800 flex flex-col items-center",children:[S.jsx("div",{className:"w-16 h-16 bg-zinc-900 dark:bg-zinc-800 rounded-2xl flex items-center justify-center mb-8 shadow-xl shadow-black/10",children:S.jsx("div",{className:"grid grid-cols-3 gap-1",children:[...Array(9)].map((Y,q)=>S.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-400 rounded-full"},q))})}),S.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white text-center",children:"Sign in to continue"}),S.jsx("p",{className:"text-gray-400 dark:text-zinc-500 text-center text-[15px] mb-10 leading-relaxed",children:"Please enter your credentials to access the admin dashboard."}),h&&S.jsx("div",{className:"w-full mb-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-2xl text-[14px] text-center font-medium border border-red-100 dark:border-red-800/30",children:h}),S.jsxs("form",{onSubmit:K,className:"w-full space-y-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute inset-y-0 left-5 flex items-center pointer-events-none",children:S.jsx("svg",{className:"w-5 h-5 text-gray-400 group-focus-within:text-zinc-900 dark:group-focus-within:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),S.jsx("input",{type:"email",required:!0,value:r,onChange:Y=>e(Y.target.value),className:"w-full pl-14 pr-6 py-4 bg-gray-50 dark:bg-zinc-800/50 border-none rounded-2xl focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white outline-none dark:text-white text-[15px] placeholder:text-gray-400 transition-all font-medium",placeholder:"Email Address"})]}),S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute inset-y-0 left-5 flex items-center pointer-events-none",children:S.jsx("svg",{className:"w-5 h-5 text-gray-400 group-focus-within:text-zinc-900 dark:group-focus-within:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),S.jsx("input",{type:o?"text":"password",required:!0,value:n,onChange:Y=>s(Y.target.value),className:"w-full pl-14 pr-12 py-4 bg-gray-50 dark:bg-zinc-800/50 border-none rounded-2xl focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white outline-none dark:text-white text-[15px] placeholder:text-gray-400 transition-all font-medium",placeholder:"Password"}),S.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute inset-y-0 right-5 flex items-center text-gray-400 hover:text-zinc-900 dark:hover:text-white transition-colors",children:o?S.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l18 18"})})})]}),S.jsx("button",{type:"submit",disabled:p,className:"w-full bg-zinc-900 dark:bg-white dark:text-black text-white py-4 px-6 rounded-2xl font-bold text-[15px] hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100 shadow-xl shadow-black/10 dark:shadow-white/10 mt-2",children:p?S.jsxs("span",{className:"flex items-center justify-center gap-2",children:[S.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),E==="verifying"?"Verifying...":E==="generating"?"Generating Code...":E==="sending"?"Sending Code...":E==="redirecting"?"Redirecting...":"Signing In..."]}):"Sign In"})]}),S.jsxs("div",{className:"w-full mt-10 relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("div",{className:"w-full border-t border-gray-100 dark:border-zinc-800"})}),S.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:S.jsx("span",{className:"bg-white dark:bg-zinc-900 px-4 text-gray-400 dark:text-zinc-600 font-bold tracking-widest",children:"Or continue with"})})]}),S.jsx("div",{className:"w-full flex gap-4 mt-8",children:[{icon:"https://www.svgrepo.com/show/475656/google-color.svg",label:"Google"},{icon:"https://www.svgrepo.com/show/475647/facebook-color.svg",label:"Facebook"},{icon:"https://www.svgrepo.com/show/445327/apple-logo.svg",label:"Apple"}].map((Y,q)=>S.jsx("button",{className:"flex-1 py-3.5 border border-gray-100 dark:border-zinc-800 rounded-2xl flex items-center justify-center hover:bg-gray-50 dark:hover:bg-zinc-800 transition-all group",children:S.jsx("img",{src:Y.icon,alt:Y.label,className:"w-5 h-5 opacity-80 group-hover:opacity-100"})},q))}),S.jsxs("div",{className:"mt-12 text-sm text-gray-400 dark:text-zinc-600 font-medium",children:["Don't have an account? ",S.jsx("span",{className:"text-zinc-900 dark:text-white cursor-pointer hover:underline",children:"Sign Up"})]})]})})}function G4(){const{setIsMfaVerified:r}=xg(),[e,n]=U.useState(""),[s,o]=U.useState(""),[u,h]=U.useState(""),[m,p]=U.useState(!1),[g,E]=U.useState([]),[T,A]=U.useState(null),[P,K]=U.useState({visits:0,uniqueVisitors:0,posts:0}),Y=async()=>{try{const oe=Ws(ii,"analytics","site_stats"),I=await _g(oe);if(I.exists()){const R=I.data();K(C=>({...C,visits:R.visits||0,uniqueVisitors:R.uniqueVisitors||0}))}}catch(oe){console.error("Error fetching stats:",oe)}},q=async()=>{const I=(await vg(cu(ii,"posts"))).docs.map(R=>({id:R.id,...R.data()}));E(I),K(R=>({...R,posts:I.length})),Y()};U.useEffect(()=>{q()},[]);const te=async()=>{try{await V2(hu),r(!1),sessionStorage.removeItem("isMfaVerified"),window.location.href="/login"}catch(oe){console.error("Error signing out: ",oe)}},J=async oe=>{oe.preventDefault(),p(!0);try{if(T){const I=Ws(ii,"posts",T);await Eg(I,{title:e,content:s,image:u,lastUpdated:new Date}),alert("Post updated successfully!"),A(null)}else await $w(cu(ii,"posts"),{title:e,content:s,image:u,createdAt:new Date,views:0}),alert("Post created successfully!");n(""),o(""),h(""),q()}catch(I){console.error("Error saving document: ",I),alert("Error saving post")}finally{p(!1)}},ie=async oe=>{if(window.confirm("Are you sure you want to delete this post?"))try{await Yw(Ws(ii,"posts",oe)),q()}catch(I){console.error("Error deleting document: ",I),alert("Error deleting post")}},ge=oe=>{n(oe.title),o(oe.content),h(oe.image),A(oe.id),window.scrollTo({top:0,behavior:"smooth"})},_e=()=>{A(null),n(""),o(""),h("")};return S.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-[#0a0a0a] p-8 text-black dark:text-white",children:S.jsxs("div",{className:"max-w-5xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8",children:[S.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>window.location.reload(),className:"text-sm text-blue-600 hover:underline",children:"Refresh Data"}),S.jsx("button",{onClick:te,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-bold rounded-xl transition-all shadow-lg shadow-red-600/20",children:"Logout"})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[S.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-3xl shadow border dark:border-zinc-800",children:[S.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium uppercase tracking-wider",children:"Total Sessions"}),S.jsx("p",{className:"text-4xl font-bold mt-2",children:P.visits})]}),S.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-3xl shadow border dark:border-zinc-800",children:[S.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium uppercase tracking-wider",children:"Unique Visitors"}),S.jsx("p",{className:"text-4xl font-bold mt-2 text-blue-600",children:P.uniqueVisitors})]}),S.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-3xl shadow border dark:border-zinc-800",children:[S.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium uppercase tracking-wider",children:"Total Posts"}),S.jsx("p",{className:"text-4xl font-bold mt-2",children:P.posts})]})]}),S.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-3xl shadow mb-12 border dark:border-zinc-800",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h2",{className:"text-xl font-bold",children:T?"Edit Post":"Create New Post"}),T&&S.jsx("button",{onClick:_e,className:"text-sm text-gray-500 hover:text-black dark:text-gray-400 dark:hover:text-white",children:"Cancel Edit"})]}),S.jsxs("form",{onSubmit:J,className:"space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Post Title"}),S.jsx("input",{type:"text",value:e,onChange:oe=>n(oe.target.value),className:"w-full px-6 py-3 border border-gray-300 dark:border-zinc-700 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white dark:bg-zinc-800 dark:text-white",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Image URL"}),S.jsx("input",{type:"url",value:u,onChange:oe=>h(oe.target.value),className:"w-full px-6 py-3 border border-gray-300 dark:border-zinc-700 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white dark:bg-zinc-800 dark:text-white",placeholder:"https://..."})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content"}),S.jsx("textarea",{value:s,onChange:oe=>o(oe.target.value),rows:"6",className:"w-full px-6 py-3 border border-gray-300 dark:border-zinc-700 rounded-xl focus:ring-2 focus:ring-blue-500 bg-white dark:bg-zinc-800 dark:text-white",required:!0})]}),S.jsx("div",{className:"flex gap-4",children:S.jsx("button",{type:"submit",disabled:m,className:`px-8 py-3 rounded-xl text-white font-bold transition-all transform hover:-translate-y-0.5 ${T?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-600/20"} `,children:m?"Saving...":T?"Update Post":"Publish Post"})})]})]}),S.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-lg shadow border dark:border-zinc-800",children:[S.jsx("h2",{className:"text-xl font-bold mb-6",children:"Recent Posts"}),g.length===0?S.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No posts yet."}):S.jsx("div",{className:"space-y-4",children:g.map(oe=>S.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 dark:border-zinc-700 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[oe.image&&S.jsx("img",{src:oe.image,alt:oe.title,className:"w-16 h-16 object-cover rounded"}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-lg",children:oe.title}),S.jsx("p",{className:"text-xs text-gray-500",children:new Date(oe.createdAt?.seconds*1e3).toLocaleDateString()})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>ge(oe),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded text-gray-700",children:"Edit"}),S.jsx("button",{onClick:()=>ie(oe.id),className:"px-3 py-1 text-sm bg-red-50 hover:bg-red-100 text-red-600 rounded",children:"Delete"})]})]},oe.id))})]})]})})}function K4(){const[r,e]=U.useState("ar"),[n,s]=U.useState([]),[o,u]=U.useState(!0);return U.useEffect(()=>{document.documentElement.lang=r,document.documentElement.dir=r==="ar"?"rtl":"ltr"},[r]),U.useEffect(()=>{(async()=>{try{const p=(await vg(cu(ii,"posts"))).docs.map(g=>({id:g.id,...g.data()}));s(p)}catch(m){console.error("Error fetching posts: ",m)}finally{u(!1)}})()},[]),S.jsxs("div",{className:`min-h-screen ${r==="ar"?"font-arabic":"font-english"} bg-white dark:bg-[#0a0a0a] text-black dark:text-white selection:bg-black selection:text-white dark:selection:bg-white dark:selection:text-black pt-20 transition-colors duration-300`,children:[S.jsx(mu,{lang:r,setLang:e}),S.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[S.jsxs("div",{className:"text-center mb-16",children:[S.jsx("h1",{className:"text-4xl md:text-5xl font-black mb-4",children:r==="ar"?"":"Blog"}),S.jsx("p",{className:"text-gray-500 text-lg",children:r==="ar"?"    ":"Thoughts, technical articles, and personal experiences"})]}),o?S.jsx("div",{className:"flex justify-center",children:S.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):n.length===0?S.jsx("div",{className:"text-center py-20 bg-gray-50 dark:bg-zinc-900 rounded-lg",children:S.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:r==="ar"?"   ":"No posts found yet."})}):S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(h=>S.jsx(ea,{to:`/blog/${h.id}`,className:"block group",children:S.jsxs("article",{className:"bg-white dark:bg-zinc-900 rounded-3xl overflow-hidden border border-gray-100 dark:border-zinc-800 shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 h-full flex flex-col",children:[h.image&&S.jsx("div",{className:"aspect-video overflow-hidden bg-gray-100 rounded-t-3xl",children:S.jsx("img",{src:h.image,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),S.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[S.jsx("h2",{className:"text-xl font-bold mb-3 line-clamp-2 leading-tight group-hover:text-blue-600 transition-colors dark:text-white",children:h.title}),S.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-3 flex-1 dark:text-gray-400",children:h.content}),S.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 font-medium uppercase tracking-wider mt-auto",children:[S.jsx("span",{children:new Date(h.createdAt?.seconds*1e3).toLocaleDateString()}),S.jsxs("span",{children:[h.views||0," views"]})]})]})]})},h.id))})]})]})}function Q4(){const{id:r}=Y1(),[e,n]=U.useState(null),[s,o]=U.useState(!0),[u,h]=U.useState("ar");return U.useEffect(()=>{document.documentElement.lang=u,document.documentElement.dir=u==="ar"?"rtl":"ltr"},[u]),U.useEffect(()=>{(async()=>{try{const p=Ws(ii,"posts",r),g=await _g(p);g.exists()?(n({id:g.id,...g.data()}),await Eg(p,{views:yp(1)})):console.log("No such document!")}catch(p){console.error("Error fetching post: ",p)}finally{o(!1)}})()},[r]),s?S.jsx("div",{className:`min-h-screen ${u==="ar"?"font-arabic":"font-english"} bg-white dark:bg-[#0a0a0a] pt-20 flex items-center justify-center`,children:S.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e?S.jsxs("div",{className:`min-h-screen ${u==="ar"?"font-arabic":"font-english"} bg-white dark:bg-[#0a0a0a] text-black dark:text-white selection:bg-black selection:text-white dark:selection:bg-white dark:selection:text-black pt-20 transition-colors duration-300`,children:[S.jsx(mu,{lang:u,setLang:h}),S.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[S.jsxs(ea,{to:"/blog",className:"inline-flex items-center text-gray-500 hover:text-black dark:text-gray-400 dark:hover:text-white mb-8 transition-colors",children:[S.jsx("span",{className:"text-xl mx-2",children:""}),u==="ar"?" ":"Back to Blog"]}),S.jsxs("header",{className:"mb-10 text-center",children:[S.jsx("h1",{className:"text-3xl md:text-5xl font-black mb-6 leading-tight",children:e.title}),S.jsxs("div",{className:"flex justify-center items-center gap-6 text-sm text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wider",children:[S.jsx("span",{children:new Date(e.createdAt?.seconds*1e3).toLocaleDateString()}),S.jsxs("span",{children:[e.views||0," views"]})]})]}),e.image&&S.jsx("div",{className:"mb-12 rounded-3xl overflow-hidden shadow-2xl",children:S.jsx("img",{src:e.image,alt:e.title,className:"w-full h-auto object-cover max-h-[600px]"})}),S.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none prose-headings:font-bold prose-a:text-blue-600 hover:prose-a:text-blue-500",children:S.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200",children:e.content})})]})]}):S.jsxs("div",{className:`min-h-screen ${u==="ar"?"font-arabic":"font-english"} bg-white dark:bg-[#0a0a0a] pt-20 flex flex-col items-center justify-center text-black dark:text-white`,children:[S.jsx("h2",{className:"text-2xl font-bold mb-4",children:u==="ar"?"  ":"Post not found"}),S.jsx(ea,{to:"/blog",className:"text-blue-600 hover:underline",children:u==="ar"?"  ":"Back to Blog"})]})}function Y4(){const{user:r,loading:e,isMfaVerified:n,setIsMfaVerified:s}=xg(),o=r||hu.currentUser,[u,h]=U.useState(["","","","","",""]),[m,p]=U.useState(""),[g,E]=U.useState(!1),T=U.useRef([]),A=Kh();if(U.useEffect(()=>{console.log("VerifyOTP Auth State:",{contextUser:r?.email,directUser:hu.currentUser?.email,loading:e,isMfaVerified:n}),T.current[0]&&T.current[0].focus()},[r,e]),e&&!o)return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-[#060606]",children:S.jsx("div",{className:"w-8 h-8 border-4 border-zinc-900 dark:border-white border-t-transparent rounded-full animate-spin"})});if(!e&&!o)return console.warn("No user found in VerifyOTP, redirecting to login..."),S.jsx(bh,{to:"/login",replace:!0});if(n)return S.jsx(bh,{to:"/admin",replace:!0});const P=te=>{const J=te.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(!J)return;const ie=J.split("").concat(Array(6-J.length).fill("")).slice(0,6);h(ie),J.length===6?q(null,J):T.current[J.length].focus()},K=(te,J)=>{if(isNaN(te.value))return!1;const ie=[...u.map((ge,_e)=>_e===J?te.value:ge)];h(ie),te.value!==""&&J<5&&T.current[J+1].focus(),ie.every(ge=>ge!=="")&&ie.join("").length===6&&q(null,ie.join(""))},Y=(te,J)=>{te.key==="Backspace"&&J>0&&u[J]===""&&T.current[J-1].focus()},q=async(te,J=null)=>{te&&te.preventDefault();const ie=J||u.join("");if(ie.length!==6)return p("Please enter the full 6-digit code.");E(!0),p("");try{const ge=tk(cu(ii,"otps"),BE("email","==",o.email),BE("code","==",ie),nk(1)),_e=await vg(ge);if(_e.empty)p("Invalid verification code.");else{const oe=_e.docs[0],I=oe.data().createdAt?.toDate();(new Date-I)/1e3/60>10?p("Code expired. Please login again."):(s(!0),await Yw(Ws(ii,"otps",oe.id)),A("/admin"))}}catch(ge){console.error(ge),p("Verification failed. Try again.")}finally{E(!1)}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-[#060606] transition-colors duration-300 p-6",children:S.jsxs("div",{className:"max-w-[440px] w-full bg-white dark:bg-zinc-900 p-10 rounded-[40px] shadow-2xl shadow-black/5 border border-gray-100 dark:border-zinc-800 flex flex-col items-center",children:[S.jsx("div",{className:"w-16 h-16 bg-zinc-900 dark:bg-zinc-800 rounded-2xl flex items-center justify-center mb-8 shadow-xl shadow-black/10",children:S.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),S.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white text-center",children:"Verify it's you"}),S.jsxs("p",{className:"text-gray-400 dark:text-zinc-500 text-center text-[15px] mb-8 leading-relaxed",children:["We've sent a 6-digit code to ",S.jsx("span",{className:"text-zinc-900 dark:text-gray-200 font-bold",children:o?.email}),"."]}),m&&S.jsx("div",{className:"w-full mb-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-2xl text-[14px] text-center font-medium border border-red-100 dark:border-red-800/30",children:m}),S.jsxs("form",{onSubmit:q,className:"w-full flex flex-col items-center",children:[S.jsx("div",{className:"flex gap-2 sm:gap-3 mb-10",dir:"ltr",children:u.map((te,J)=>S.jsx("input",{type:"text",maxLength:"1",ref:ie=>T.current[J]=ie,value:te,onChange:ie=>K(ie.target,J),onKeyDown:ie=>Y(ie,J),onPaste:P,className:"w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl font-bold rounded-2xl bg-gray-50 dark:bg-zinc-800/50 border-none focus:ring-2 focus:ring-zinc-900 dark:focus:ring-white dark:text-white outline-none transition-all shadow-sm"},J))}),S.jsx("button",{type:"submit",disabled:g,className:"w-full bg-zinc-900 dark:bg-white dark:text-black text-white py-4 px-6 rounded-2xl font-bold text-[15px] hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100 shadow-xl shadow-black/10 dark:shadow-white/10",children:g?"Verifying...":"Complete Sign In"}),S.jsx("button",{type:"button",onClick:()=>A("/login"),className:"mt-6 text-gray-400 hover:text-zinc-900 dark:hover:text-white text-sm font-medium transition-colors",children:"Use a different account"})]})]})})}function $4(){const[r,e]=U.useState(localStorage.getItem("lang")||"ar");U.useEffect(()=>{document.documentElement.lang=r,document.documentElement.dir=r==="ar"?"rtl":"ltr",localStorage.setItem("lang",r)},[r]);const n=aa[r];return S.jsxs("div",{className:`min-h-screen ${r==="ar"?"font-arabic":"font-english"} bg-white dark:bg-[#060606] text-black dark:text-white pt-32 pb-20 transition-colors duration-300`,dir:r==="ar"?"rtl":"ltr",children:[S.jsx(mu,{lang:r,setLang:e}),S.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-20",children:[S.jsx("h1",{className:"text-4xl sm:text-7xl font-black mb-12 tracking-tighter animate-fade-in-up",children:n.privacyTitle}),S.jsx("div",{className:"prose dark:prose-invert max-w-none text-lg leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line animate-fade-in-up delay-100",children:n.privacyContent})]})]})}function X4(){const[r,e]=U.useState(localStorage.getItem("lang")||"ar");U.useEffect(()=>{document.documentElement.lang=r,document.documentElement.dir=r==="ar"?"rtl":"ltr",localStorage.setItem("lang",r)},[r]);const n=aa[r];return S.jsxs("div",{className:`min-h-screen ${r==="ar"?"font-arabic":"font-english"} bg-white dark:bg-[#060606] text-black dark:text-white pt-32 pb-20 transition-colors duration-300`,dir:r==="ar"?"rtl":"ltr",children:[S.jsx(mu,{lang:r,setLang:e}),S.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-20",children:[S.jsx("h1",{className:"text-4xl sm:text-7xl font-black mb-12 tracking-tighter animate-fade-in-up",children:n.termsTitle}),S.jsx("div",{className:"prose dark:prose-invert max-w-none text-lg leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-line animate-fade-in-up delay-100",children:n.termsContent})]})]})}const AS=U.createContext(),xg=()=>U.useContext(AS);function J4({children:r}){const{user:e,loading:n,isMfaVerified:s}=xg();return n?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-[#060606]",children:S.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e?s?r:S.jsx(bh,{to:"/verify-otp",replace:!0}):S.jsx(bh,{to:"/login",replace:!0})}function W4(){const[r,e]=U.useState(null),[n,s]=U.useState(!0),[o,u]=U.useState(()=>sessionStorage.getItem("isMfaVerified")==="true");return U.useEffect(()=>{const h=M2(hu,m=>{e(m),s(!1)});return()=>h()},[]),U.useEffect(()=>{sessionStorage.setItem("isMfaVerified",o)},[o]),S.jsx(HR,{children:S.jsx(AS.Provider,{value:{user:r,loading:n,isMfaVerified:o,setIsMfaVerified:u},children:S.jsx(kR,{basename:"/Portfolio",children:S.jsxs(uR,{children:[S.jsx(or,{path:"/",element:S.jsx(N4,{})}),S.jsx(or,{path:"/blog",element:S.jsx(K4,{})}),S.jsx(or,{path:"/blog/:id",element:S.jsx(Q4,{})}),S.jsx(or,{path:"/login",element:S.jsx(F4,{})}),S.jsx(or,{path:"/verify-otp",element:S.jsx(Y4,{})}),S.jsx(or,{path:"/privacy",element:S.jsx($4,{})}),S.jsx(or,{path:"/terms",element:S.jsx(X4,{})}),S.jsx(or,{path:"/admin",element:S.jsx(J4,{children:S.jsx(G4,{})})})]})})})})}h1.createRoot(document.getElementById("root")).render(S.jsx(U.StrictMode,{children:S.jsx(W4,{})}));
